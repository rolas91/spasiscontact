(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"46ad":function(o,t,e){"use strict";e.r(t);var a=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("q-page",{},[e("div",{staticClass:"q-pa-md"},[e("q-card",[e("q-card-section",{staticClass:"bg-blue-background text-white q-gutter-sm"},[e("h5",{staticClass:"page-title"},[o._v("\n          "+o._s(o.readonly?"Ver Curso":o.nuevo?"Nuevo Curso":"Editar Curso")+"\n        ")])]),e("q-separator"),e("q-card-section",[e("q-form",{on:{submit:o.onSubmit}},[e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{readonly:o.readonly,color:"primary",label:"Nombre","lazy-rules":"",rules:[function(o){return o&&o.length>0&&o.length<500||"Ingrese un Nombre válido"}]},model:{value:o.curso.nombre,callback:function(t){o.$set(o.curso,"nombre",t)},expression:"curso.nombre"}})],1)]),e("div",{staticClass:"row q-col-gutter-md"},[1===o.id_rol||2===o.id_rol?e("div",{staticClass:"col-12 col-md-4"},[e("q-select",{attrs:{readonly:o.readonly||4===o.id_rol,"use-input":"","input-debounce":"200",label:"Centro",options:o.centros,loading:o.loadingCentros,"lazy-rules":"",rules:[function(o){return o||"Ingrese un Centro válido"}],"option-value":"id","option-label":"nombre","hide-selected":"","fill-input":"","emit-value":"","map-options":""},on:{filter:o.filtrarCentros},scopedSlots:o._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[o._v("\n                      No hay resultados disponibles\n                    ")])],1)]},proxy:!0}],null,!1,2138845739),model:{value:o.curso.id_centro,callback:function(t){o.$set(o.curso,"id_centro",t)},expression:"curso.id_centro"}})],1):o._e(),e("div",{staticClass:"col-12 col-md-4",class:1===o.id_rol||2===o.id_rol?"col-md-4":"col-md-6"},[e("q-select",{attrs:{readonly:o.readonly,label:"Tipo",options:o.tipos,loading:o.loadingTipos,"lazy-rules":"",rules:[function(o){return o||"Ingrese un Tipo válido"}],"option-value":"id","option-label":"nombre","emit-value":"","map-options":""},scopedSlots:o._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[o._v("\n                      No hay resultados disponibles\n                    ")])],1)]},proxy:!0}]),model:{value:o.curso.id_tipo,callback:function(t){o.$set(o.curso,"id_tipo",t)},expression:"curso.id_tipo"}})],1),e("div",{staticClass:"col-12 col-md-4",class:1===o.id_rol||2===o.id_rol?"col-md-4":"col-md-6"},[e("q-select",{attrs:{readonly:o.readonly,label:"Sector",options:o.sectores,loading:o.loadingSectores,"lazy-rules":"",rules:[function(o){return o||"Ingrese un sector válido"}],"option-value":"id","option-label":"nombre","emit-value":"","map-options":""},scopedSlots:o._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[o._v("\n                      No hay resultados disponibles\n                    ")])],1)]},proxy:!0}]),model:{value:o.curso.id_sector,callback:function(t){o.$set(o.curso,"id_sector",t)},expression:"curso.id_sector"}})],1)]),e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12"},[e("label",[o._v("Descripcion")]),e("q-editor",{attrs:{readonly:o.readonly,color:"primary","min-height":"15rem",toolbar:[[{label:o.$q.lang.editor.align,icon:o.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],[,"fullscreen"],[{label:o.$q.lang.editor.formatting,icon:o.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:o.$q.lang.editor.fontSize,icon:o.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:o.$q.lang.editor.defaultFont,icon:o.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},model:{value:o.curso.descripcion,callback:function(t){o.$set(o.curso,"descripcion",t)},expression:"curso.descripcion"}})],1)]),e("br"),e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12"},[e("label",[o._v("Competencias Adquiridas")]),e("q-editor",{attrs:{readonly:o.readonly,color:"primary","min-height":"15rem",toolbar:[[{label:o.$q.lang.editor.align,icon:o.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],[,"fullscreen"],[{label:o.$q.lang.editor.formatting,icon:o.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:o.$q.lang.editor.fontSize,icon:o.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:o.$q.lang.editor.defaultFont,icon:o.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},model:{value:o.curso.competencias_adquiridas,callback:function(t){o.$set(o.curso,"competencias_adquiridas",t)},expression:"curso.competencias_adquiridas"}})],1)]),e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12 col-md-4"},[e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-6"},[e("q-input",{attrs:{readonly:o.readonly,type:"number",label:"Duracion","lazy-rules":"",rules:[function(o){return o&&o>0||"Ingrese un Duracion válido"}]},model:{value:o.curso.duracion,callback:function(t){o.$set(o.curso,"duracion",t)},expression:"curso.duracion"}})],1),e("div",{staticClass:"col-6"},[e("q-select",{attrs:{label:"Unidad duracion",options:o.unidad_duraciones,loading:o.loadingUnidadDuraciones,"lazy-rules":"",rules:[function(o){return o||"Ingrese un Unidad Duracion válido"}],"option-value":"id","option-label":"nombre","emit-value":"","map-options":"",readonly:""},scopedSlots:o._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[o._v("\n                          No hay resultados disponibles\n                        ")])],1)]},proxy:!0}]),model:{value:o.curso.id_unidad_duracion,callback:function(t){o.$set(o.curso,"id_unidad_duracion",t)},expression:"curso.id_unidad_duracion"}})],1)])])]),e("br"),e("q-card-actions",{staticClass:"row justify-between q-gutter-sm"},[e("q-btn",{attrs:{right:"",icon:o.readonly?"chevron_left":"close"},on:{click:o.Cancelar}},[o._v("\n              "+o._s(o.readonly?"Regresar":"Cancelar")+"\n            ")]),o.readonly?o._e():e("q-btn",{staticClass:"bg-primary text-white",attrs:{loading:o.loading,disable:o.loading,right:"",type:"submit",icon:"save"}},[o._v("\n              Guardar\n            ")])],1)],1)],1)],1)],1)])},i=[],n=(e("c5f6"),e("a34a")),r=e.n(n),s=(e("7f7f"),e("96cf"),e("c973")),c=e.n(s),l=e("c1df"),d=e.n(l),u=e("bc3a"),p=e.n(u),h={data:function(){return{nuevo:!0,readonly:!1,allCentros:!1,curso:{id:0,id_centro:0,id_tipo:null,id_sector:null,nombre:"",descripcion:"",competencias_adquiridas:"",fecha_inicio:d()().format("DD/MM/YYYY"),fecha_fin_matricula:d()().format("DD/MM/YYYY"),fecha_fin:d()().add(3,"months").format("DD/MM/YYYY"),id_unidad_duracion:5523,duracion:0},loading:!1,loadingSectores:!1,loadingCentros:!1,loadingModos:!1,loadingTipos:!1,loadingUnidadDuraciones:!1,sectores:[],centros:[],tipos:[],unidad_duraciones:[]}},created:function(){var o=this;return c()(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o.loading=!0,"editar_catalogo_curso"!==o.$route.name||null===o.$route.params.id){t.next=5;break}return t.next=4,o.CargarCurso();case 4:o.nuevo=!1;case 5:if("ver_catalogo_curso"!==o.$route.name||null===o.$route.params.id){t.next=10;break}return o.readonly=!0,t.next=9,o.CargarCurso();case 9:o.nuevo=!1;case 10:return t.next=12,o.CargarSectores();case 12:return t.next=14,o.CargarCentros();case 14:return t.next=16,o.CargarTipos();case 16:return t.next=18,o.CargarUnidadDuraciones();case 18:o.loading=!1;case 19:case"end":return t.stop()}}),t)})))()},methods:{Cancelar:function(){this.$router.push({path:"/catalogos/cursos"})},CargarCurso:function(){var o=this;if(this.$route.params.id){var t="http://35.203.165.142/api"+"/catalogos/cursos/".concat(this.$route.params.id,"/edit"),e={Authorization:"Bearer "+this.$store.state.token};p()({method:"get",url:t,headers:e}).then((function(t){o.curso=t.data.catalogo_curso})).catch((function(t){o.loading=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))}},filtrarCentros:function(o,t,e){var a=this;t((function(){a.CargarCentros(o)}))},isValidDate:function(o){return d()(o,"DD/MM/YYYY",!0).isValid()},onSubmit:function(){var o=this;this.loading=!0;var t="post",e="http://35.203.165.142/api/catalogos/cursos";this.nuevo||(e="http://35.203.165.142/api/catalogos/cursos/"+this.curso.id,t="put");var a={Authorization:"Bearer "+this.$store.state.token};p()({method:t,url:e,data:{curso:this.curso},headers:a}).then((function(t){o.loading=!1,o.$q.notify({color:"green-4",textColor:"white",icon:"fas fa-check-circle",message:"Curso creado correctamente",position:"bottom",timeout:2e3}),o.$router.push({path:"/catalogos/cursos"})})).catch((function(t){o.loading=!1,o.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:t.response.data.message}),401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarCentros:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingCentros=!0;var e="http://35.203.165.142/api/catalogos/centros",a={Authorization:"Bearer "+this.$store.state.token},i={filtro:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.centros=t.data.centros,o.loadingCentros=!1})).catch((function(t){o.loadingCentros=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarSectores:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingSectores=!0;var e="http://35.203.165.142/api/catalogos/sectores",a={Authorization:"Bearer "+this.$store.state.token},i={filtro:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.sectores=t.data.sectores,o.loadingSectores=!1})).catch((function(t){o.loadingSectores=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarDepartamentos:function(){var o=this;this.loadingDepartamentos=!0;var t="http://35.203.165.142/api/catalogos/departamentos",e={Authorization:"Bearer "+this.$store.state.token},a={q:"",id_padre:this.curso.id_pais};p()({method:"get",url:t,params:a,headers:e}).then((function(t){o.departamentos=t.data.departamentos,o.loadingDepartamentos=!1})).catch((function(t){o.loadingDepartamentos=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarEstados:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingEstados=!0;var e="http://35.203.165.142/api/catalogos/estados_curso",a={Authorization:"Bearer "+this.$store.state.token},i={q:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.estados=t.data.estados_curso,o.loadingEstados=!1})).catch((function(t){o.loadingEstados=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarMunicipios:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loadingMunicipios=!0;var a="http://35.203.165.142/api/catalogos/municipios",i={Authorization:"Bearer "+this.$store.state.token};e&&(this.curso.id_municipio=null);var n={q:t,id_padre:null!==this.curso.id_departamento?this.curso.id_departamento:""};p()({method:"get",url:a,params:n,headers:i}).then((function(t){o.municipios=t.data.municipios,o.loadingMunicipios=!1})).catch((function(t){o.loadingMunicipios=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarModalidades:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingModalidades=!0;var e="http://35.203.165.142/api/catalogos/modalidades",a={Authorization:"Bearer "+this.$store.state.token},i={q:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.modalidades=t.data.modalidades,o.loadingModalidades=!1})).catch((function(t){o.loadingModalidades=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarModos:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingModalidades=!0;var e="http://35.203.165.142/api/catalogos/modos",a={Authorization:"Bearer "+this.$store.state.token},i={q:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.modos=t.data.modos,o.loadingModalidades=!1})).catch((function(t){o.loadingModos=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarPaises:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingPaises=!0;var e="http://35.203.165.142/api/catalogos/paises",a={Authorization:"Bearer "+this.$store.state.token},i={q:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.paises=t.data.paises,o.loadingPaises=!1})).catch((function(t){o.loadingPaises=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarSubcategorias:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loadingSubcategorias=!0;var a="http://35.203.165.142/api/catalogos/subcategorias",i={Authorization:"Bearer "+this.$store.state.token};e&&(this.curso.id_subcategoria=null);var n={q:t,id_padre:null!==this.curso.id_categoria?this.curso.id_categoria:""};p()({method:"get",url:a,params:n,headers:i}).then((function(t){o.subcategorias=t.data.subcategorias,o.loadingSubcategorias=!1})).catch((function(t){o.loadingSubcategorias=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarTipos:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingTipos=!0;var e="http://35.203.165.142/api/catalogos/tipoCursos",a={Authorization:"Bearer "+this.$store.state.token},i={q:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.tipos=t.data.tipo_cursos,o.loadingTipos=!1})).catch((function(t){o.loadingTipos=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))},CargarUnidadDuraciones:function(){var o=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingUnidadDuraciones=!0;var e="http://35.203.165.142/api/catalogos/unidad_duraciones",a={Authorization:"Bearer "+this.$store.state.token},i={q:t};p()({method:"get",url:e,params:i,headers:a}).then((function(t){o.unidad_duraciones=t.data.unidad_duraciones,o.loadingUnidadDuraciones=!1})).catch((function(t){o.loadingUnidadDuraciones=!1,401===t.response.status&&(o.removeCredentials(),o.$router.push({name:"login"}))}))}},computed:{id_rol:function(){return Number(this.$store.state.user.rol)}}},g=h,m=(e("d970"),e("2877")),f=Object(m["a"])(g,a,i,!1,null,null,null);t["default"]=f.exports},a213:function(o,t,e){},d970:function(o,t,e){"use strict";var a=e("a213"),i=e.n(a);i.a}}]);