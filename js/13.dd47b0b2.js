(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{5691:function(e,t,s){},"67e7":function(e,t,s){"use strict";var a=s("5691"),i=s.n(a);i.a},"6d66":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-page-container",[s("q-page",{staticClass:"q-pa-md pagina"},[s("q-card-actions",{staticClass:"row justify-between q-gutter-sm screenOnly"},[e.loading?e._e():s("q-btn",{attrs:{right:"",icon:"chevron_left"},on:{click:e.regresar}},[e._v("\n          Regresar\n        ")]),e.loading||"imprimir_respuesta_formulario"!==e.$route.name?e._e():s("q-btn",{attrs:{color:"primary",icon:"print"},on:{click:e.imprimir}},[e._v("\n          Imprimir\n        ")]),"respuesta_formulario"===e.$route.name?s("q-btn",{attrs:{color:"primary",icon:"print"},on:{click:e.abrir_imprimir}},[e._v("\n          Imprimir\n        ")]):e._e()],1),e.formulario?s("div",{staticClass:"printable",attrs:{id:"respuestas-formulario"}},[s("div",{staticClass:"q-pa-md bg-white"},[s("q-card-section",[s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-4"},[s("q-img",{staticClass:"imagen-logo",attrs:{src:"statics/imagenes-plantilla/logo2.png",contain:"",position:"center"}})],1),s("div",{staticClass:"col-4"},[s("q-img",{staticClass:"imagen-logo",attrs:{src:"statics/imagenes-plantilla/logo_cosude.png",contain:"",position:"center"}})],1),s("div",{staticClass:"col-4"},[s("q-img",{staticClass:"imagen-logo",attrs:{src:"statics/imagenes-plantilla/logo_swisscontact.png",contain:"",position:"center"}})],1)]),s("div",{staticClass:"seccion"},[s("br"),s("br"),e._l(e.formulario.secciones,(function(t,a){return s("div",{key:t.id,class:a>0?"pagebreak":""},[s("div",{staticClass:"row q-col-gutter-md"},[s("label",{staticClass:"titulo text-primary"},[e._v("\n                    "+e._s(t.titulo)+"\n                  ")])]),s("div",{staticClass:"row q-col-gutter-md"},[s("label",{domProps:{innerHTML:e._s(t.descripcion)}})]),s("br"),0===a?s("div",[s("br"),s("br"),s("br")]):e._e(),e._l(e.formulario.secciones[a].campos,(function(t,a){return s("div",{key:a,staticClass:"nobreak"},[s("div",{staticClass:"row q-col-gutter-lg q-pa-md"},[s("div",{staticClass:"col-12"},[s("label",{staticClass:"pregunta q-mb-md q-mt-md flex"},[e._v("\n                        "+e._s(a+1+".")+" "+e._s(t.texto)+"\n                        "),s("span",{staticStyle:{color:"#c10015","font-size":"20px",display:"inline"}},[e._v("\n                          "+e._s(t.requerido?"*":"")+"\n                        ")])]),t.imagen?s("q-img",{staticClass:"imagen q-mb-md",attrs:{src:t.imagen,"spinner-color":"white",contain:""}}):e._e(),s("label",{staticClass:"pregunta q-mt-md"},[e._v("\n                        "+e._s(t.subtitulo)+"\n                      ")]),2===t.id_tipo&&1===t.tipo_input.id?s("q-input",{attrs:{disable:"",outlined:"",type:"text","input-style":"text-transform: uppercase;"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),2===t.id_tipo&&2===t.tipo_input.id?s("q-input",{attrs:{disable:"",type:"textarea",outlined:""},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),2===t.id_tipo&&3===t.tipo_input.id?s("q-input",{attrs:{disable:"",outlined:"",type:"number"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",e._n(s))},expression:"campo.respuesta"}}):e._e(),2===t.id_tipo&&4===t.tipo_input.id?s("q-input",{attrs:{disable:"",outlined:""},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy"+t.id,refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD/MM/YYYY","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese una fecha válida"}]},on:{input:function(){return e.hideDatePopUp("qDateProxy"+t.id)}},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}})],1)],1)]},proxy:!0}],null,!0),model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),1===t.id_tipo&&1===t.tipo_input.id?s("div",{staticClass:"row q-col-gutter-md q-pa-md"},[s("div",{staticClass:"col-12 q-col-gutter-md"},e._l(t.opciones,(function(a){return s("q-radio",{key:a.id,attrs:{disable:"",val:a.nombre,label:a.nombre},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}})})),1),t.isValid||!t.requerido||t.respuesta?e._e():s("label",{staticStyle:{color:"#c10015","font-size":"12px"}},[e._v("\n                          Selecciona una opción\n                        ")])]):e._e(),1===t.id_tipo&&3===t.tipo_input.id?s("q-select",{attrs:{disable:"","bg-color":"white",options:t.opciones,"lazy-rules":"","emit-value":"","map-options":"","option-value":"nombre","option-label":"nombre"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),1===t.id_tipo&&2===t.tipo_input.id?s("div",[s("div",{staticClass:"row"},[s("q-list",{staticStyle:{"background-color":"white"},attrs:{dense:"",padding:""}},e._l(t.opciones,(function(t){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{tag:"label"}},[s("q-item-section",{attrs:{side:"",top:""}},[s("q-checkbox",{attrs:{disable:"","true-value":t.nombre,"false-value":!1},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"option.respuesta"}})],1),s("q-item-section",[s("q-item-label",[e._v("\n                                  "+e._s(t.nombre)+"\n                                ")])],1)],1)})),1)],1),t.isValid||!t.requerido||t.respuesta?e._e():s("label",{staticStyle:{color:"#c10015","font-size":"12px"}},[e._v("\n                          Selecciona una opción\n                        ")])]):e._e(),3===t.id_tipo&&t.arregloTable&&t.arregloTable.length>0?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("table",{staticClass:"full-width bg-white q-mt-md"},[s("thead",{staticClass:"full-width text-center"},[s("td"),e._l(t.arregloTable[0].columns,(function(t){return s("td",{key:t.id},[e._v("\n                                "+e._s(t.valor)+"\n                              ")])}))],2),e._l(t.arregloTable,(function(a){return s("tr",{key:a.id},[s("span",{staticClass:"flex q-mt-md"},[e._v("\n                                "+e._s(a.valor)+"\n                              ")]),e._l(a.columns,(function(i,o){return s("td",{key:i.id,staticClass:"text-center"},[s("q-radio",{staticClass:"text-right",attrs:{disable:"",val:!0},on:{input:function(s){return e.setFilaCheckbox(t,a,a.columns[o])}},model:{value:a.columns[o].checked,callback:function(t){e.$set(a.columns[o],"checked",t)},expression:"fila.columns[index2].checked"}})],1)}))],2)}))],2)])]):e._e(),4===t.id_tipo?s("q-select",{attrs:{disable:"","bg-color":"white",options:e.departamentos,"lazy-rules":"","emit-value":"","map-options":"","option-value":"nombre","option-label":"nombre"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),5===t.id_tipo?s("q-select",{attrs:{disable:"","bg-color":"white",options:e.municipios,"emit-value":"","map-options":"","option-value":"nombre","option-label":"nombre"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),6===t.id_tipo?s("q-rating",{attrs:{readonly:"",size:"2.5em",max:"10",color:"yellow",icon:"star_border","icon-selected":"star"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),6===t.id_tipo?s("span",[e._v(" ( "+e._s(t.respuesta?t.respuesta:0)+" ) ")]):e._e()],1)])])}))],2)}))],2)])],1)]):e._e(),s("q-card-actions",{staticClass:"row justify-between q-gutter-sm screenOnly"},[e.loading?e._e():s("q-btn",{attrs:{right:"",icon:"chevron_left"},on:{click:e.regresar}},[e._v("\n          Regresar\n        ")])],1)],1)],1)],1)},i=[],o=(s("28a5"),s("6762"),s("2fdb"),s("7514"),s("7f7f"),s("bc3a")),r=s.n(o),n=s("0a93"),l={data:function(){return{loading:!1,formulario:null,campos:null,secciones:null,respuesta:null,respuesta_campos:null}},mounted:function(){var e=this;this.loading=!0,this.$route.params.id_formulario&&this.$route.params.id_respuesta&&(this.CargarDatosFormulario(),"imprimir_respuesta_formulario"===this.$route.name&&setTimeout((function(){e.imprimir()}),1e3))},methods:{regresar:function(){this.$router.push({name:"respuestas_formulario",params:{id_formulario:this.$route.params.id_formulario}})},abrir_imprimir:function(){var e=this.$router.resolve({name:"imprimir_respuesta_formulario",query:{id_formulario:this.$route.params.id_formulario,id_respuesta:this.$route.params.id_respuesta}});window.open(e.href,"_blank")},imprimir:function(){window.print()},CargarDatosFormulario:function(){var e=this;if(!1===this.$store.getters.online){var t=Object(n["i"])("Respuestas");t.find({where:{id_respuesta:this.$route.params.id_respuesta}}).then((function(t){e.formulario=t.formulario}))}else{this.loading=!0;var s="http://35.203.165.142/api"+"/formularios/".concat(this.$route.params.id_formulario,"/respuesta/").concat(this.$route.params.id_respuesta),a={Authorization:"Bearer "+this.$store.state.token};r()({method:"get",url:s,headers:a}).then((function(t){e.loading=!1;var s=t.data.formulario,a=t.data.campos;s.secciones=t.data.secciones,a.forEach((function(e,t,s){s[t].tipo_input=JSON.parse(e.tipo_input),s[t].opciones=JSON.parse(e.opciones),1===e.id_tipo&&2===e.tipo_input.id&&e.opciones.forEach((function(a,i,o){e.respuesta.split(",").includes(a.nombre)?s[t].opciones[i].respuesta=a.nombre:s[t].opciones[i].respuesta=!1})),3===e.id_tipo&&(s[t].arregloTable=JSON.parse(e.respuesta)),e.imagen_url=e.imagen})),s.secciones.forEach((function(e,t,s){s[t].campos=a.filter((function(t){return t.id_seccion===e.id}))})),e.formulario=JSON.parse(JSON.stringify(s)),e.campos=t.data.campos,e.secciones=t.data.secciones,e.respuesta=t.data.respuesta,e.respuesta_campos=t.data.respuesta_campos})).catch((function(t){e.loading=!1,e.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:t.response.data}),401===t.response.status&&(e.removeCredentials(),e.$router.push({name:"login"}))}))}}},computed:{ancho:function(){var e=this.$q.screen.lt,t=500;return e.xs||e.sm?(t=0,window.screen.width-t+"px"):e.md?(t=150,window.screen.width-t+"px"):e.lg?(t=250,window.screen.width-t+"px"):e.xl?(t=500,window.screen.width-t+"px"):window.screen.width-t+"px"}}},c=l,u=(s("67e7"),s("2877")),p=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=p.exports}}]);