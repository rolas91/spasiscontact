(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"1fcc":function(a,r,t){},"2c92":function(a,r,t){"use strict";t.r(r);var o=function(){var a=this,r=a.$createElement,t=a._self._c||r;return t("q-page",{staticClass:"q-pa-md q-mt-md"},[a.loading?a._e():t("q-btn",{attrs:{right:"",icon:"chevron_left"},on:{click:a.regresar}},[a._v("Regresar")]),t("q-card",{staticClass:"q-mt-md"},[a.formulario?t("div",{staticClass:"row q-pa-md"},[t("div",{staticClass:"col-12 col-md-8"},[t("label",{staticClass:"titulo"},[a._v(a._s(a.formulario.nombre)+" ("+a._s(Number(a.formulario.nota_maxima))+"\n          puntos)")])]),t("div",{staticClass:"col-12 col-md-4"},[t("label",{staticClass:"nota"},[t("span",{staticClass:"textonota"},[a._v("Calificación:")]),t("span",{staticClass:"numeronota"},[a._v(a._s(a.formulario_respuesta.nota)+" Puntos")])])])]):a._e(),a.formulario_respuesta?t("div",{staticClass:"row q-pa-md"},[t("div",{staticClass:"col-12"},[t("label",{staticClass:"nombreParticipante"},[a._v("\n          Participante:\n          "+a._s(5605===a.formulario.id_modo?"Anónimo":a.formulario_respuesta.nombre_participante))])])]):a._e(),t("div",{staticClass:"row  flex bg-grey-4"},[t("div",{staticClass:"col-12 col-md-8 q-pa-md"},[t("span",{staticClass:"ValorNota"},[a._v(" Preguntas")])]),t("div",{staticClass:"col-12 col-md-2 q-pa-md"},[t("span",{staticClass:"ValorNota"},[a._v(" Valor | Nota")])])]),a._l(a.campos,(function(r){return t("div",{key:r.texto,staticClass:"row border-bottom "},[t("div",{staticClass:"col-12 col-md-8 q-pa-md"},[t("label",{staticClass:"pregunta"},[a._v(a._s(r.texto)+"\n          "),t("span",{class:a.respuesta_campos.filter((function(a){return a.id_formulario_campo===r.id_formulario_campo}))[0].nota!==r.nota?"respuestaIncorrecta":"respuestaCorrecta"},[t("br"),a._v("\n            R:\n            "),t("ul",{staticStyle:{}},[t("span",{domProps:{innerHTML:a._s(a.mostrarRespuesta(r,a.respuesta_campos))}})])])])]),t("div",{staticClass:"col-12 col-md-2 q-pa-md flex"},[t("span",{staticClass:"bg-primary text-white textocentrado"},[a._v("\n          "+a._s(r.nota)+"\n        ")]),t("span",{staticClass:"textocentrado",class:a.respuesta_campos.filter((function(a){return a.id_formulario_campo===r.id_formulario_campo}))[0].nota!==r.nota?"bg-red-8 text-white":"bg-green-8 text-white"},[a._v("\n          "+a._s(a.respuesta_campos.filter((function(a){return a.id_formulario_campo===r.id_formulario_campo}))[0].nota)+"\n        ")])]),t("div",{staticClass:"col-12 col-md-2 q-pa-md text-right"},[2===r.id_tipo&&r.nota>0?t("q-btn",{class:a.colorNota(r,a.respuesta_campos),attrs:{size:"sm",label:a.respuesta_campos.filter((function(a){return a.id_formulario_campo===r.id_formulario_campo}))[0].nota!==r.nota?"Marcar Correcta":"Marcar Incorrecta"},on:{click:function(t){a.CambiarResultadoRespuesta(r,a.respuesta_campos.filter((function(a){return a.id_formulario_campo===r.id_formulario_campo}))[0])}}}):a._e()],1)])}))],2)],1)},e=[],s=(t("6762"),t("2fdb"),t("a481"),t("28a5"),t("bc3a")),i=t.n(s),n={data:function(){return{formulario:null,campos:null,secciones:null,formulario_respuesta:null,respuesta_campos:null}},created:function(){this.cargarDatosFormulario()},methods:{colorNota:function(a,r){if(r){var t=r.filter((function(r){return r.id_formulario_campo===a.id_formulario_campo}))[0].nota,o=a.nota,e="";return t>0&&t<o&&(e="bg-orange text-white"),0===t&&(e="bg-red text-white"),t===o&&(e="bg-green text-white"),e}},mostrarRespuesta:function(a,r){var t="";if(1===a.id_tipo&&2===a.tipo_input.id){var o=r.filter((function(r){return r.id_formulario_campo===a.id_formulario_campo}))[0].valor,e=o.split(",");for(var s in e){var i=e[s];t+="<li>"+i+"</li><br/>"}return t}if(3===a.id_tipo){var n=r.filter((function(r){return r.id_formulario_campo===a.id_formulario_campo}))[0].valor,c=n.replace(/\[/g,"").replace(/]/g,"").replace(/"/g,"").replace(/{/g,"").replace(/}/g,"").split(",");for(var l in c){c[l];var u=c[l];t+="<li>"+u+"</li><br/>"}return t}return r.filter((function(r){return r.id_formulario_campo===a.id_formulario_campo}))[0].valor},CambiarResultadoRespuesta:function(a,r){var t=this,o=!1;if(0!==a.nota){o=0===r.nota;var e="http://35.203.165.142/api/formulario/cambiar_resultado_respuesta",s={Authorization:"Bearer "+this.$store.state.token};i()({method:"post",url:e,data:{id_campo:r.id,correcta:o,id_formulario_respuesta:r.id_formulario_respuesta},headers:s}).then((function(a){t.cargarDatosFormulario()})).catch((function(a){t.loading=!1,401===a.response.status&&(t.removeCredentials(),t.$router.push({name:"login"}))}))}},regresar:function(){this.$router.push({name:"respuestas_formulario",params:{id_formulario:this.$route.params.id_formulario}})},cargarDatosFormulario:function(){var a=this;this.loading=!0;var r="http://35.203.165.142/api"+"/formularios/".concat(this.$route.params.id_formulario,"/respuesta/").concat(this.$route.params.id_respuesta,"/evaluar"),t={Authorization:"Bearer "+this.$store.state.token};i()({method:"get",url:r,headers:t}).then((function(r){a.loading=!1;var t=r.data.formulario,o=r.data.campos;t.secciones=r.data.secciones,o.forEach((function(e,s,i){if(i[s].tipo_input=JSON.parse(e.tipo_input),i[s].opciones=JSON.parse(e.opciones),1===e.id_tipo&&2===e.tipo_input.id&&e.opciones.forEach((function(a,r,t){e.respuesta.split(",").includes(a.nombre)?i[s].opciones[r].respuesta=a.nombre:i[s].opciones[r].respuesta=!1})),3===e.id_tipo){i[s].arregloTable=JSON.parse(e.arregloTable);var n=JSON.parse(e.respuesta);e.arregloTable,i[s].arregloTable.forEach((function(r){n.forEach((function(t){r.columns.forEach((function(o,e,s){var i=t[r.valor];o.valor===i&&a.$set(o,"checked",!0)}))}))}))}e.imagen_url=e.imagen,a.formulario=t,a.campos=o,a.formulario_respuesta=r.data.formulario_respuesta,a.respuesta_campos=r.data.respuesta_campos}))})).catch((function(r){a.loading=!1,a.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:r.response.data}),401===r.response.status&&(a.removeCredentials(),a.$router.push({name:"login"}))}))}}},c=n,l=(t("a040"),t("2877")),u=Object(l["a"])(c,o,e,!1,null,"70b6fa42",null);r["default"]=u.exports},a040:function(a,r,t){"use strict";var o=t("1fcc"),e=t.n(o);e.a}}]);