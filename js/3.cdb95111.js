(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"267b":function(i,e,o){},5776:function(i,e,o){"use strict";o.r(e);var a,t=function(){var i=this,e=i.$createElement,o=i._self._c||e;return o("div",{staticClass:"bg-white"},[o("q-page",{staticClass:"bg-white",staticStyle:{margin:"auto","padding-top":"80px"},style:"width:"+i.ancho,attrs:{id:"crearFormulario"}},[o("q-page-sticky",{staticStyle:{"z-index":"99",width:"100%","justify-content":"flex-end","background-color":"white",padding:"18px"},attrs:{position:"top-right"}},[o("q-btn",{attrs:{flat:"",title:"Vista Previa",color:"primary",icon:"visibility"},on:{click:i.VistaPrevia}},[i._v("\n        Vista Previa\n      ")])],1),o("q-page-sticky",{staticStyle:{"z-index":"99",padding:"18px"},attrs:{position:"top-left"}},[i.readonly?i._e():o("q-btn",{attrs:{color:"primary",flat:"",icon:"save"},on:{click:i.onSubmit}},[i._v("\n        Guardar\n      ")])],1),o("q-dialog",{attrs:{persistent:""},model:{value:i.confirm,callback:function(e){i.confirm=e},expression:"confirm"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-avatar",{attrs:{icon:"warning",color:"primary","text-color":"white"}}),o("span",{staticClass:"q-ml-sm"},[i._v("\n            Hay un borrador guardado, desea continuar o iniciar uno nuevo?\n          ")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Nuevo",color:"default"},on:{click:i.nuevoFormulario}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-primary text-white",attrs:{flat:"",label:"Continuar"},on:{click:i.continuar}})],1)],1)],1),o("q-dialog",{attrs:{persistent:""},model:{value:i.PreguntaEliminarRegla,callback:function(e){i.PreguntaEliminarRegla=e},expression:"PreguntaEliminarRegla"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center"},[o("q-avatar",{attrs:{icon:"warning",color:"primary","text-color":"white"}}),o("span",{staticClass:"q-ml-sm"},[i._v("\n            ¿Estás seguro(a) de eliminar la regla seleccionada?\n          ")])],1),o("q-card-actions",{attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"default"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-red text-white",attrs:{flat:"",label:"Eliminar"},on:{click:i.eliminarReglaSeleccionada}})],1)],1)],1),o("q-dialog",{model:{value:i.reglasOpen,callback:function(e){i.reglasOpen=e},expression:"reglasOpen"}},[o("q-card",{staticStyle:{width:"1200px","max-width":"90vw"}},[o("q-card-section",{staticClass:"bg-blue-background text-white q-gutter-sm"},[o("div",{staticClass:"text-h6"},[i._v("Reglas de exclusión")])]),o("q-card-section",[o("div",{staticClass:"row q-col-gutter-md"},[o("div",{staticClass:"col-6 col-md-3"},[o("q-select",{attrs:{dense:"","options-dense":"",options:i.formulario.secciones,"option-value":"id","option-label":"titulo",label:"Seleccione la sección","emit-value":"","map-options":""},model:{value:i.idseccion,callback:function(e){i.idseccion=e},expression:"idseccion"}})],1),o("div",{staticClass:"col-6 col-md-3"},[o("q-select",{attrs:{dense:"","options-dense":"",readonly:!i.camposEvaluar,options:i.camposEvaluar,"option-value":"id","option-label":"texto",label:"Seleccione el campo","emit-value":"","map-options":""},model:{value:i.idcampo,callback:function(e){i.idcampo=e},expression:"idcampo"}})],1),o("div",{staticClass:"col-6 col-md-1"},[o("q-select",{attrs:{dense:"","options-dense":"",readonly:!i.camposEvaluar,options:i.operaciones,label:"operador","emit-value":"","map-options":""},model:{value:i.operacion,callback:function(e){i.operacion=e},expression:"operacion"}})],1),o("div",{staticClass:"col-6 col-md-2"},[i.idcampo?i._e():o("q-select",{attrs:{dense:"","options-dense":"",readonly:!0,options:i.opcionesExclusion,"option-value":"id","option-label":"nombre",label:"Seleccione el valor","emit-value":"","map-options":""},model:{value:i.idrespuesta,callback:function(e){i.idrespuesta=e},expression:"idrespuesta"}}),i.idcampo&&1==i.getTipoCampo?o("q-select",{attrs:{dense:"","options-dense":"",readonly:!i.idseccion||!i.operacion||!i.idcampo,options:i.opcionesExclusion,"option-value":"id","option-label":"nombre",label:"Seleccione el valor","emit-value":"","map-options":""},model:{value:i.idrespuesta,callback:function(e){i.idrespuesta=e},expression:"idrespuesta"}}):i._e(),i.esCampoTexto?o("q-input",{attrs:{dense:"",readonly:!i.idseccion||!i.operacion||!i.idcampo,type:"text"},model:{value:i.idrespuesta,callback:function(e){i.idrespuesta=i._n(e)},expression:"idrespuesta"}}):i._e(),i.esCampoNumerico?o("q-input",{attrs:{readonly:!i.idseccion||!i.operacion||!i.idcampo,dense:"",type:"number"},model:{value:i.idrespuesta,callback:function(e){i.idrespuesta=i._n(e)},expression:"idrespuesta"}}):i._e(),i.esCampoFecha?o("q-input",{attrs:{readonly:!i.idseccion||!i.operacion||!i.idcampo,dense:""},scopedSlots:i._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{ref:"qDateProxy"+i.idrespuesta,attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{attrs:{mask:"DD/MM/YYYY"},on:{input:function(){return i.hideDatePopUp("qDateProxy"+i.idrespuesta)}},model:{value:i.idrespuesta,callback:function(e){i.idrespuesta=e},expression:"idrespuesta"}})],1)],1)]},proxy:!0}],null,!1,3796058832),model:{value:i.idrespuesta,callback:function(e){i.idrespuesta=e},expression:"idrespuesta"}}):i._e()],1),o("div",{staticClass:"col-6 col-md-3"},[o("q-select",{attrs:{dense:"","options-dense":"",readonly:!i.idrespuesta,options:i.formulario.secciones,"option-value":"id","option-label":"titulo",label:"sección a excluir","emit-value":"","map-options":""},model:{value:i.Eidseccion,callback:function(e){i.Eidseccion=e},expression:"Eidseccion"}})],1),i.excluirFullSeccion?i._e():o("div",{staticClass:"col-6 col-md-3"},[o("q-select",{attrs:{dense:"","options-dense":"",readonly:!i.Eidseccion,options:i.camposExcluir,"option-value":"id","option-label":"texto",label:"campo a excluir","emit-value":"","map-options":""},model:{value:i.Eidcampo,callback:function(e){i.Eidcampo=e},expression:"Eidcampo"}})],1),o("div",{staticClass:"col-6-col-md-2"},[o("q-checkbox",{attrs:{disable:!i.Eidseccion,"left-label":"",label:"Excluir toda la sección"},model:{value:i.excluirFullSeccion,callback:function(e){i.excluirFullSeccion=e},expression:"excluirFullSeccion"}})],1),o("div",{staticClass:"col-3 col-md-2"},[o("q-btn",{attrs:{disable:!i.idseccion||!i.operacion||!i.idcampo||!i.Eidseccion||!i.idrespuesta,label:i.nuevaRegla?"Agregar Regla":"Editar Regla",color:"primary"},on:{click:i.guardarRegla}})],1)])]),o("q-separator"),o("q-card-section",[o("q-table",{attrs:{dense:i.$q.screen.lt.md,title:"Reglas de exclusión",data:i.reglasTabla,columns:i.columns,"row-key":"id",selection:"single",selected:i.selected,loading:i.loadingTable,pagination:i.pagination},on:{"update:selected":function(e){i.selected=e},"update:pagination":function(e){i.pagination=e}},scopedSlots:i._u([{key:"top",fn:function(){return[o("div",{staticClass:"row q-col-gutter-md"},[o("div",{staticClass:"col"},[o("q-btn",{staticClass:"bg-primary text-white",attrs:{dense:"",disable:i.loading||0==i.selected.length||!i.nuevaRegla,label:"Editar"},on:{click:i.editarRegla}})],1),i.selected.length>0&&!i.nuevaRegla?o("div",{staticClass:"col"},[o("q-btn",{staticClass:"bg-black text-white",attrs:{dense:"",label:"Cancelar"},on:{click:i.limpiarCamposRegla}})],1):i._e(),i.selected.length>0?o("div",{staticClass:"col"},[o("q-btn",{staticClass:"bg-red text-white",attrs:{dense:"",label:"Eliminar"},on:{click:function(e){i.PreguntaEliminarRegla=!0}}})],1):i._e()])]},proxy:!0}])})],1),o("q-card-actions",{staticClass:"bg-white text-teal q-pt-xl q-px-xl",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-px-xl",attrs:{flat:"",label:"Cancelar",color:"black"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Aceptar",color:"primary"}})],1)],1)],1),o("q-card-section",{directives:[{name:"show",rawName:"v-show",value:!i.loading,expression:"!loading"}],staticClass:"bg-white"},[o("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[o("q-form",{ref:"formCentro",on:{submit:i.onSubmit}},[o("div",{staticClass:"row q-col-gutter-md bg-grey-2"},[o("div",{staticClass:"col-12"},[o("label",{staticStyle:{display:"inline-flex"}},[i._v("Nombre:")]),i.formulario.editandoNombre?o("q-input",{staticStyle:{width:"80%",display:"inline-flex"},attrs:{readonly:i.readonly,"input-class":"inputcampo bg-white",dense:"",autofocus:""},on:{blur:i.finalizarEdicionNombre,keyup:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.finalizarEdicionNombre(e)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:i.cancelarEdicionNombre(e)}]},model:{value:i.formulario.temp,callback:function(e){i.$set(i.formulario,"temp",e)},expression:"formulario.temp"}}):i._e(),i.formulario.editandoNombre?i._e():o("label",{staticClass:"nombreFormulario",attrs:{readonly:i.readonly},on:{click:i.modoEdicionNombre}},[i._v("\n                "+i._s(i.formulario.nombre)+"\n              ")])],1),o("div",{staticClass:"col-12 col-md-4"},[o("q-input",{attrs:{dense:"",readonly:i.readonly,label:"Fecha Inicio","lazy-rules":"",rules:[function(e){return e&&i.isValidDate(e)&&/\d{1,2}\/\d{1,2}\/\d{4}/.test(e)||"Ingrese un Fecha Inicio válido"}]},scopedSlots:i._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{ref:"qDateProxyFechaInicio",attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{attrs:{readonly:i.readonly,mask:"DD/MM/YYYY","lazy-rules":"",rules:[function(i){return i&&i.length>0||"Ingrese un Fecha Inicio válido"}]},on:{input:function(){return i.$refs.qDateProxyFechaInicio.hide()}},model:{value:i.formulario.fecha_inicio,callback:function(e){i.$set(i.formulario,"fecha_inicio",e)},expression:"formulario.fecha_inicio"}})],1)],1)]},proxy:!0}]),model:{value:i.formulario.fecha_inicio,callback:function(e){i.$set(i.formulario,"fecha_inicio",e)},expression:"formulario.fecha_inicio"}})],1),o("div",{staticClass:"col-12 col-md-4"},[o("q-input",{attrs:{dense:"",readonly:i.readonly,label:"Fecha Fin","lazy-rules":"",rules:[function(e){return e&&i.isValidDate(e)&&/\d{1,2}\/\d{1,2}\/\d{4}/.test(e)||"Ingrese un Fecha Fin válido"}]},scopedSlots:i._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{ref:"qDateProxyFechaFin",attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{attrs:{readonly:i.readonly,mask:"DD/MM/YYYY","lazy-rules":"",rules:[function(i){return i&&i.length>0||"Ingrese un FechaFin válido"}]},on:{input:function(){return i.$refs.qDateProxyFechaFin.hide()}},model:{value:i.formulario.fecha_fin,callback:function(e){i.$set(i.formulario,"fecha_fin",e)},expression:"formulario.fecha_fin"}})],1)],1)]},proxy:!0}]),model:{value:i.formulario.fecha_fin,callback:function(e){i.$set(i.formulario,"fecha_fin",e)},expression:"formulario.fecha_fin"}})],1),o("div",{staticClass:"col-12 col-md-4"},[o("q-select",{attrs:{readonly:i.readonly,dense:"",label:"Tipo de Formulario",options:i.tipos_formularios,loading:i.loadingTiposFormularios,"lazy-rules":"",rules:[function(i){return i||"Selecciona un tipo de formulario"}],"option-value":"id","option-label":"nombre","emit-value":"","map-options":""},scopedSlots:i._u([{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",{staticClass:"text-grey"},[i._v("\n                      No hay resultados disponibles\n                    ")])],1)]},proxy:!0}]),model:{value:i.formulario.id_tipo,callback:function(e){i.$set(i.formulario,"id_tipo",e)},expression:"formulario.id_tipo"}})],1)]),i._e(),o("div",{staticClass:"row q-col-gutter-md bg-grey-2"},[o("div",{staticClass:"col-12"},[o("label",{staticStyle:{display:"inline-flex","font-weight":"600"}},[i._v("\n                "+i._s(i.app_url)+"\n              ")]),i.formulario.editandoUrl?o("q-input",{staticStyle:{width:"328px",display:"inline-flex"},attrs:{readonly:i.readonly,"input-class":"bg-white",dense:"",autofocus:""},on:{blur:i.finalizarEdicionUrl,keyup:[function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.finalizarEdicionUrl(e)},function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:i.cancelarEdicionUrl(e)}]},model:{value:i.formulario.temp,callback:function(e){i.$set(i.formulario,"temp",e)},expression:"formulario.temp"}}):i._e(),i.formulario.editandoUrl?i._e():o("label",{staticClass:"nombreFormulario",attrs:{readonly:i.readonly},on:{click:i.modoEdicionUrl}},[i._v("\n                "+i._s(i.formulario.url)+"\n              ")]),o("q-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:i.app_url+i.formulario.url,expression:"app_url + formulario.url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:i.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:i.onError,expression:"onError",arg:"error"}],staticClass:"btnTopNavbar",attrs:{flat:"",color:"black",icon:"content_copy"}},[[o("q-tooltip",[i._v("Copiar Url")])]],2)],1)]),o("div",{staticClass:"row"},[5561==i.formulario.id_tipo?o("div",{staticClass:"col-12 col-md-3"},[o("q-input",{staticStyle:{"font-size":"20px","font-weight":"bold"},attrs:{readonly:"",type:"number",label:"Puntos del formulario"},model:{value:i.formulario.nota_maxima,callback:function(e){i.$set(i.formulario,"nota_maxima",e)},expression:"formulario.nota_maxima"}})],1):i._e(),5561==i.formulario.id_tipo?o("div",{staticClass:"col-12 col-md-5"},[o("q-toggle",{staticStyle:{"margin-top":"10px"},attrs:{disable:i.readonly},model:{value:i.formulario.ordenar_aleatoriamente,callback:function(e){i.$set(i.formulario,"ordenar_aleatoriamente",e)},expression:"formulario.ordenar_aleatoriamente"}},[i._v("\n                Ordenar preguntas aleatoriamente\n              ")])],1):i._e(),o("div",{staticClass:"col-md-12 col-12"},[o("q-option-group",{attrs:{disable:i.readonly,options:i.modos,color:"primary",inline:""},model:{value:i.formulario.id_modo,callback:function(e){i.$set(i.formulario,"id_modo",e)},expression:"formulario.id_modo"}})],1)]),o("div",{staticClass:"row"},[o("q-input",{staticStyle:{"max-width":"200px"},attrs:{type:"number",label:"Duracion en minutos",hint:"Ingresa una duración mayor a 0 para aplicar un temporizador al formulario"},model:{value:i.formulario.duracion,callback:function(e){i.$set(i.formulario,"duracion",i._n(e))},expression:"formulario.duracion"}}),o("q-btn",{attrs:{flat:"",dense:"",size:"small",color:"black",icon:"call_split",label:"Reglas de exclusión"},on:{click:function(e){i.reglasOpen=!0}}})],1),o("br"),i._l(i.formulario.secciones,(function(e,a){return o("div",{key:e.id,staticClass:"row q-col-gutter-md bg-grey-2",staticStyle:{"margin-top":"50px"}},[o("div",{staticClass:"row full-width"},[o("div",{staticClass:"col-11"},[o("label",{staticClass:"seccion-titulo"},[i._v("\n                  "+i._s("Sección "+(a+1))+"\n                ")])]),o("div",{staticClass:"0ffset-11"},[i.readonly?i._e():o("q-btn",{attrs:{flat:"",color:"red",icon:"delete_forever"},on:{click:function(o){return i.eliminarSeccion(e)}}})],1)]),o("div",{staticClass:"col-12"},[e.editandoTitulo?o("q-input",{staticStyle:{"background-color":"white"},attrs:{readonly:i.readonly,"input-class":"inputcampo","full-width":"",outlined:"",autofocus:"",color:"primary",label:"Titulo"},on:{blur:function(o){return i.finalizarEdicionTitulo(e)},keyup:[function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"enter",13,o.key,"Enter")?null:i.finalizarEdicionTitulo(e)},function(o){return!o.type.indexOf("key")&&i._k(o.keyCode,"esc",27,o.key,["Esc","Escape"])?null:i.cancelarEdicionTitulo(e)}]},model:{value:e.tempTitulo,callback:function(o){i.$set(e,"tempTitulo",o)},expression:"seccion.tempTitulo"}}):i._e(),e.editandoTitulo?i._e():o("label",{staticClass:"campo",attrs:{readonly:i.readonly},on:{click:function(o){return i.modoEdicionTitulo(e)}}},[i._v("\n                "+i._s(e.titulo)+"\n              ")]),o("q-editor",{attrs:{readonly:i.readonly,color:"primary","min-height":"15rem",autofocus:"",toolbar:[[{label:i.$q.lang.editor.align,icon:i.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],[,"fullscreen"],[{label:i.$q.lang.editor.formatting,icon:i.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:i.$q.lang.editor.fontSize,icon:i.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:i.$q.lang.editor.defaultFont,icon:i.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},model:{value:e.descripcion,callback:function(o){i.$set(e,"descripcion",o)},expression:"seccion.descripcion"}}),i._l(e.campos,(function(a,t){return o("div",{key:a.id},[o("FormularioItem",{ref:"formularioItem",refInFor:!0,attrs:{readonly:i.readonly,index:t,puedeSubir:i.puedeSubir(e,a),puedeBajar:i.puedeBajar(e,a),campo:a,seccion:e,form:i.formulario,idTipoFormulario:i.formulario.id_tipo},on:{moverArriba:function(o){return i.moverArriba(e,a)},moverAbajo:function(o){return i.moverAbajo(e,a)},eliminarCampo:function(o){return i.eliminarCampo(e,a)},copiarElemento:function(o){return i.copiarElemento(e,a)},actualizarNota:i.actualizarNotasFormulario,actualizarArregloTabla:function(e){return i.actualizarArregloTabla(a)},updateNotaTabla:function(e){return i.updateNotaTabla(a)},DepartamentoSelected:function(e){return i.DepartamentoSelected(a)},recargarMunicipios:function(e){return i.recargarMunicipios(a)}}})],1)}))],2),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("q-btn",{staticClass:"bg-primary text-white",on:{click:i.toggleOptions}},[i._v("\n                  Agregar\n                ")]),!i.readonly&&i.showOptions?o("q-btn-toggle",{staticClass:"bg-white text-primary q-pa-sm q-mb-lg",attrs:{dense:"","toggle-color":"primary",options:[{label:"Texto",value:"texto",slot:"texto"},{label:"Opción",value:"opcion",slot:"opcion"},{label:"Sección",value:"seccion",slot:"seccion"},{label:"Tabla",value:"tabla",slot:"tabla"},{label:"Departamento",value:"departamento",slot:"departamento"},{label:"Municipio",value:"municipio",slot:"municipio"},{label:"Valoración",value:"valoracion",slot:"valoracion"}]},on:{click:function(o){return i.agregarCampo(e)}},scopedSlots:i._u([{key:"opcion",fn:function(){return[o("q-icon",{staticStyle:{padding:"0px 20px"},attrs:{name:"album"}})]},proxy:!0},{key:"texto",fn:function(){return[o("q-icon",{attrs:{name:"border_color"}})]},proxy:!0},{key:"seccion",fn:function(){return[o("div",{staticClass:"row items-center no-wrap"},[o("div",{staticClass:"text-center",staticStyle:{"padding-left":"5px"}}),o("q-icon",{attrs:{name:"photo_size_select_small"}})],1)]},proxy:!0},{key:"tabla",fn:function(){return[o("div",{staticClass:"row items-center no-wrap"},[o("div",{staticClass:"text-center",staticStyle:{"padding-left":"5px"}}),o("q-icon",{attrs:{name:"grid_on"}})],1)]},proxy:!0},{key:"departamento",fn:function(){return[o("div",{staticClass:"row items-center no-wrap"},[o("div",{staticClass:"text-center"}),o("q-icon",{attrs:{name:"location_on"}})],1)]},proxy:!0},{key:"municipio",fn:function(){return[o("div",{staticClass:"row items-center no-wrap"},[o("div",{staticClass:"text-center"}),o("q-icon",{attrs:{name:"location_on"}})],1)]},proxy:!0},{key:"valoracion",fn:function(){return[o("div",{staticClass:"row items-center no-wrap"},[o("div",{staticClass:"text-center",staticStyle:{"padding-left":"5px"}}),o("q-icon",{attrs:{name:"star"}})],1)]},proxy:!0}],null,!0),model:{value:i.selectedOption,callback:function(e){i.selectedOption=e},expression:"selectedOption"}}):i._e(),o("div",[o("br"),o("br")])],1)])])}))],2)],1),o("q-inner-loading",{attrs:{showing:i.loading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1),0==i.formulario.secciones.length?o("div",{staticClass:"bg-primary text-white"},[o("q-btn",{staticClass:"full-width q-pa-md",attrs:{disable:i.readonly,flat:"",icon:"add_circle_outline"},on:{click:i.agregarSeccion}},[i._v("\n        Agregar nueva seccion\n      ")])],1):i._e()],1)],1)},r=[],n=(o("6762"),o("2fdb"),o("c5f6"),o("7f7f"),o("9523")),l=o.n(n),s=o("bc3a"),c=o.n(s),u=o("c1df"),d=o.n(u),p=o("9808"),m={name:"crearFormulario",components:{FormularioItem:p["a"]},data:function(){var i;return i={reglasOpen:!1,reglas:[],reglasTabla:[],Eidseccion:null,Eidcampo:null,idseccion:null,idcampo:null,confirm:!1,operacion:null,idrespuesta:null,operaciones:["=","<",">","!="],excluirFullSeccion:!1,recompute:0,PreguntaEliminarRegla:!1,selected:[],columns:[{name:"seccion_excluyente",required:!0,label:"Seccion excluyente",align:"left",field:function(i){return i.seccion_excluyente},format:function(i){return"".concat(i)},sortable:!0},{name:"campo_excluyente",required:!0,label:"Campo excluyente",align:"left",field:function(i){return i.campo_excluyente},format:function(i){return"".concat(i)},sortable:!0},{name:"operacion",required:!0,label:"Operación",align:"left",field:function(i){return i.operacion},format:function(i){return"".concat(i)},sortable:!0},{name:"respuesta_excluyente",required:!0,label:"Respuesta excluyente",align:"left",field:function(i){return i.respuesta_excluyente},format:function(i){return"".concat(i)},sortable:!0},{name:"seccion_excluida",required:!0,label:"Sección Excluida",align:"left",field:function(i){return i.seccion_excluida},format:function(i){return"".concat(i)},sortable:!0},{name:"excluir_full_seccion",required:!0,label:"Excluir toda la sección",align:"left",field:function(i){return i.excluir_full_seccion},format:function(i){return"".concat(i)},sortable:!0},{name:"campo_excluido",required:!0,label:"Campo Excluido",align:"left",field:function(i){return i.campo_excluido?i.campo_excluido:"N/A"},sortable:!0}],loadingTable:!1,pagination:{sortBy:"id",descending:!0,page:1,rowsPerPage:10,rowsNumber:10},nuevaRegla:!0,cantidad:0,inicializado:!1},l()(i,"confirm",!1),l()(i,"departamentos",[]),l()(i,"municipios",[]),l()(i,"loadingDepartamentos",!1),l()(i,"loadingMunicipios",!1),l()(i,"loadingTiposFormularios",!1),l()(i,"nuevo",!0),l()(i,"readonly",!1),l()(i,"formulario",{id_modo:5603,id:null,id_tipo:5560,id_tema:5569,nota_maxima:0,duracion:0,fecha_inicio:d()().format("DD/MM/YYYY"),fecha_fin:d()().format("DD/MM/YYYY"),url:this.nuevo?"formulario-"+this.randomString(8):null,reglas:[],reglasTabla:[],secciones:[{id:1,titulo:"Titulo",descripcion:"Descripcion",campos:[],editandoTitulo:!1,tempTitulo:null,editandoDescripcion:!1,tempDescripcion:null}],nombre:"Nombre del Formulario",editandoNombre:!1,temp:null,editandoUrl:!1,ordenar_aleatoriamente:!0}),l()(i,"copiado",!1),l()(i,"showOptions",!1),l()(i,"selectedOption",null),l()(i,"loading",!1),l()(i,"loadingTipos",!1),l()(i,"loadingTemas",!1),l()(i,"tipos_formularios",[]),l()(i,"temas",[]),l()(i,"modos",[{label:"Participantes",value:5603},{label:"Abierto",value:5604},{label:"Anónimo",value:5605}]),i},created:function(){if("ver_formulario"==this.$route.name&&this.$route.params.id&&(this.nuevo=!1,this.readonly=!0,this.CargarFormulario()),"editar_formulario"==this.$route.name&&this.$route.params.id)this.nuevo=!1,this.CargarFormulario();else if("duplicar_formulario"==this.$route.name&&this.$route.params.id)this.nuevo=!0,this.CargarFormulario(),this.formulario.url=this.randomString(8);else{this.nuevo=!0,this.formulario.url=this.randomString(8);var i=JSON.parse(localStorage.getItem("formulario")||null);if(i&&this.nuevo)return void(this.confirm=!0);this.inicializado=!0}this.cargarTiposFormularios(),this.CargarTemas(),this.CargarDepartamentos("",!1),this.CargarMunicipios(null)},methods:(a={recargarMunicipios:function(i){var e=[];this.formulario.secciones.forEach((function(i){i.campos.forEach((function(i){4==i.id_tipo&&e.push(i)}))})),this.CargarMunicipios(e[0],!1,i)},arraymove:function(i,e,o){for(var a=i[e],t=i[o].id,r=[],n=0;n<this.reglas.length;n++){var l=this.reglas[n],s=JSON.parse(JSON.stringify(this.reglas[n]));l.campo_excluyente==a.id&&(s.campo_excluyente=t),l.campo_excluyente,s.campo_excluyente,l.campo_excluyente==t&&(s.campo_excluyente=a.id),l.campo_excluido==a.id&&(s.campo_excluido=t),l.campo_excluido==t&&(s.campo_excluido=a.id),r.push(s)}this.reglas=r,i[o].id=a.id,i[e].id=t,i.splice(e,1),i.splice(o,0,a)},arrayMax:function(i){var e=0;return i.forEach((function(i){e=Math.max(i.id,e)})),e},showDatePopUp:function(i){this.$refs[i][0].show()},hideDatePopUp:function(i){try{this.$refs[i][0].hide()}catch(e){}},isValidDate:function(i){return d()(i,"DD/MM/YYYY",!0).isValid()},eliminarReglaSeleccionada:function(){var i=this;this.reglas=this.reglas.filter((function(e){return e.id!=i.selected[0].id})),this.reglasTabla=this.reglasTabla.filter((function(e){return e.id!=i.selected[0].id})),this.selected=[],this.limpiarCamposRegla()},guardarRegla:function(){var i=this;if(this.excluirFullSeccion||this.Eidcampo){var e=null;this.nuevaRegla||(e=this.reglas.filter((function(e){return e.id==i.selected[0].id}))[0]);var o=this.nuevaRegla?this.nextId:e.id,a={id:o,seccion_excluyente:this.idseccion,campo_excluyente:this.idcampo,operacion:this.operacion,respuesta_excluyente:this.idrespuesta,seccion_excluida:this.Eidseccion,excluir_full_seccion:this.excluirFullSeccion,campo_excluido:this.Eidcampo},t=this.formulario.secciones.filter((function(e){return e.id==i.idseccion}))[0],r=t.campos.filter((function(e){return e.id==i.idcampo}))[0],n=null;1==r.id_tipo&&(n=this.opcionesExclusion.filter((function(e){return e.id==i.idrespuesta}))[0]),2==r.id_tipo&&(n=this.idrespuesta);var l=this.formulario.secciones.filter((function(e){return e.id==i.Eidseccion}))[0],s=this.camposExcluir.filter((function(e){return e.id==i.Eidcampo})),c={id:o,seccion_excluyente:t.titulo,campo_excluyente:r.texto,operacion:this.operacion,respuesta_excluyente:1==r.id_tipo?n.nombre:n,seccion_excluida:l.titulo,excluir_full_seccion:this.excluirFullSeccion?"Si":"No",campo_excluido:s.length>0?s[0].texto:null};if(this.nuevaRegla)this.reglas.push(a),this.reglasTabla.push(c);else{var u=0;this.reglas.forEach((function(i,e,o){i.id==a.id&&(u=e)})),this.reglas.splice(u,1,a),this.reglasTabla.splice(u,1,c)}this.limpiarCamposRegla()}else this.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:"Debes seleccionar el campo a excluir, o marca la casilla de 'Excluir toda la sección'"})},limpiarCamposRegla:function(){this.idseccion=null,this.idcampo=null,this.operacion=null,this.idrespuesta=null,this.Eidseccion=null,this.excluirFullSeccion=!1,this.Eidcampo=null,this.nuevaRegla=!0,this.selected=[]},editarRegla:function(){var i=this,e=this.reglas.filter((function(e){return e.id==i.selected[0].id}))[0];this.idseccion=e.seccion_excluyente,setTimeout((function(){i.idcampo=e.campo_excluyente,i.operacion=e.operacion,i.idrespuesta=e.respuesta_excluyente,i.Eidseccion=e.seccion_excluida,i.excluirFullSeccion=e.excluir_full_seccion,i.Eidcampo=e.campo_excluido}),50),setTimeout((function(){i.idrespuesta=e.respuesta_excluyente,i.recompute=Math.random()}),100),this.nuevaRegla=!1},toggleOptions:function(){this.showOptions=!this.showOptions},DepartamentoSelected:function(i){var e=[];this.formulario.secciones.forEach((function(i){i.campos.forEach((function(i){5==i.id_tipo&&e.push(i)}))})),this.CargarMunicipios(i,!1,e[0])},refreshMunicipiosDataset:function(){var i=this;this.formulario.secciones.forEach((function(e){e.campos.forEach((function(e,o,a){5===e.id_tipo&&(i.municipios,a[o].opciones=i.municipios)}))}))},CargarDepartamentos:function(){var i=this;this.loadingDepartamentos=!0;var e="http://35.203.165.142/api/catalogos/departamentos",o={Authorization:"Bearer "+this.$store.state.token},a={q:"",id_padre:1438};c()({method:"get",url:e,params:a,headers:o}).then((function(e){i.departamentos=e.data.departamentos,i.loadingDepartamentos=!1})).catch((function(e){i.loadingDepartamentos=!1,401==e.response.status&&(i.removeCredentials(),i.$router.push({name:"login"}))}))},CargarMunicipios:function(i){var e=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loadingMunicipios=!0;var t="http://35.203.165.142/api/catalogos/municipios",r=null;i&&i.respuesta_correcta&&(r=i.respuesta_correcta.id),(!i||o||!r||a&&0==a.FiltrarXDepartamento)&&(t="http://35.203.165.142/api/catalogos/TodosMunicipios");var n={Authorization:"Bearer "+this.$store.state.token},l={id_padre:r};c()({method:"get",url:t,params:l,headers:n}).then((function(i){e.municipios=i.data.municipios,e.municipios,e.loadingMunicipios=!1,e.refreshMunicipiosDataset()})).catch((function(i){e.loadingMunicipios=!1,401==i.response.status&&(e.removeCredentials(),e.$router.push({name:"login"}))}))},updateNotaTabla:function(i){var e=0;i.arregloTable.forEach((function(i){e+=i.columns.reduce((function(i,e){return Math.max(Number(i),Number(e.nota))}),0)})),i.nota=e,this.actualizarNotasFormulario()},actualizarArregloTabla:function(i){var e=[];3==i.id_tipo&&(i.opciones[0].filas.forEach((function(o,a){var t=[];i.opciones[1].columnas.forEach((function(i,e){t.push({id:e,valor:i.nombre,nota:i.nota?i.nota:0,checked:!1})})),e.push({id:a,valor:o.nombre,columns:t,isValid:!0}),i.arregloTable=e})),this.actualizarNotasFormulario())},actualizarNotasFormulario:function(){var i=0;this.formulario.secciones.forEach((function(e){e.campos.forEach((function(e){i+=Number(e.nota)}))})),this.formulario.nota_maxima=i},eliminarSeccion:function(i){this.formulario.secciones=this.formulario.secciones.filter((function(e){return e.id!=i.id})),this.eliminarReglaSeccion(i),this.$forceUpdate()},eliminarReglaSeccion:function(i){var e=this.reglas.map((function(e){if(e.seccion_excluyente==i.id||e.seccion_excluida==i.id)return e.id}));this.reglas=this.reglas.filter((function(e){return e.seccion_excluyente!=i.id&&e.seccion_excluida!=i.id})),this.reglasTabla=this.reglasTabla.filter((function(i){return!e.includes(i.id)}))},eliminarCampoReglas:function(i){var e=this.reglas.map((function(e){if(e.campo_excluyente==i.id||e.campo_excluido==i.id)return e.id}));this.reglas=this.reglas.filter((function(e){return e.campo_excluyente!=i.id&&e.campo_excluido!=i.id})),this.reglasTabla=this.reglasTabla.filter((function(i){return!e.includes(i.id)}))},scrollToTop:function(){window.scrollTo(0,0)},VistaPrevia:function(){localStorage.setItem("formulario_vista_previa",JSON.stringify({formulario:this.formulario,reglas:this.reglas,reglasTabla:this.reglasTabla}));var i=this.$router.resolve({name:"vista_previa_formulario"});window.open(i.href,"_blank")},continuar:function(){var i=JSON.parse(localStorage.getItem("formulario")||null);i&&(this.nuevo=i.nuevo,this.formulario=i.formulario,this.nombre=i.nombre,this.confirm=!1,this.inicializado=!0,this.cargarTiposFormularios())},nuevoFormulario:function(){localStorage.removeItem("formulario"),this.confirm=!1,this.inicializado=!0,this.cargarTiposFormularios()},CargarFormulario:function(){var i=this;if(this.$route.params.id){this.loading=!0;var e="http://35.203.165.142/api"+"/admin/formularios/".concat(this.$route.params.id,"/edit"),o={Authorization:"Bearer "+this.$store.state.token};c()({method:"get",url:e,headers:o}).then((function(e){var o=e.data.formulario;i.formulario.nombre=o.nombre,i.formulario.nota_maxima=o.nota_maxima,i.formulario.fecha_inicio=o.fecha_inicio,i.formulario.fecha_fin=o.fecha_fin,"editar_formulario"==i.$route.name&&(i.formulario.url=o.url),i.formulario.id=Number(o.id),i.formulario.id_tipo=Number(o.id_tipo),i.formulario.id_tema=Number(o.id_tema),i.formulario.id_centro=Number(o.id_centro),i.formulario.id_curso=Number(o.id_curso),i.formulario.id_modo=Number(o.id_modo),i.formulario.duracion=Number(o.duracion).toFixed(0),i.formulario.ordenar_aleatoriamente=1==o.ordenar_aleatoriamente;var a=e.data.campos;if(i.formulario.secciones=e.data.secciones,a.forEach((function(i,e,o){o[e].tipo_input=JSON.parse(i.tipo_input),o[e].opciones=JSON.parse(i.opciones),o[e].arregloTable=JSON.parse(i.arregloTable),i.imagen_url=i.imagen,i.imagen=i.imagen?"http://35.203.165.142/public/img/formularios/"+i.imagen:""})),i.formulario.secciones.forEach((function(e,o,t){i.$set(e,"campos",a.filter((function(i){return i.id_seccion==e.id})))})),e.data.formulario.reglas){var t=JSON.parse(e.data.formulario.reglas);t&&(i.reglas=t.reglas,i.reglasTabla=t.reglasTabla)}i.loading=!1,setTimeout((function(){i.scrollToTop()}),0)})).catch((function(e){i.loading=!1,401==e.response.status&&(i.removeCredentials(),i.$router.push({name:"login"}))}))}},onCopy:function(i){this.$q.notify({color:"primary",textColor:"white",icon:"content_copy",message:"Copiado al portapapeles!",position:"bottom",timeout:1500})},onError:function(i){this.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:"Ha ocurrido un error al intentar copiar la url"})},randomString:function(i){for(var e="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=o.length,t=0;t<i;t++)e+=o.charAt(Math.floor(Math.random()*a));return e}},l()(a,"isValidDate",(function(i){return d()(i,"DD/MM/YYYY",!0).isValid()})),l()(a,"cargarTiposFormularios",(function(){var i=this;if(this.$store.getters.online){this.loadingTiposFormularios=!0;var e="get",o="http://35.203.165.142/api/catalogos/tipos_formularios",a={Authorization:"Bearer "+this.$store.state.token};c()({method:e,url:o,headers:a}).then((function(e){i.loadingTiposFormularios=!1,i.tipos_formularios=e.data.tipos_formularios})).catch((function(e){i.loading=!1,i.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:e.response.data.message}),401==e.response.status&&(i.removeCredentials(),i.$router.push({name:"login"}))}))}})),l()(a,"CargarTemas",(function(){var i=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadingTemas=!0;var o="http://35.203.165.142/api/catalogos/temas_formularios",a={Authorization:"Bearer "+this.$store.state.token},t={q:e};c()({method:"get",url:o,params:t,headers:a}).then((function(e){i.temas=e.data.temas,i.loadingTemas=!1})).catch((function(e){i.loadingTemas=!1,401==e.response.status&&(i.removeCredentials(),i.$router.push({name:"login"}))}))})),l()(a,"onSubmit",(function(){var i=this;this.loading=!0;var e="http://35.203.165.142/api/formularios/crear";this.nuevo||(e="http://35.203.165.142/api/formularios/editar/"+this.formulario.id);var o=new FormData;o.append("formulario",JSON.stringify(this.formulario)),o.append("reglas",JSON.stringify({reglas:this.reglas,reglasTabla:this.reglasTabla})),this.formulario.secciones.forEach((function(e){e.campos.forEach((function(e,a){e.imagen&&2==e.id_tipo&&i.$refs.formularioItem[a].$refs.texto&&i.$refs.formularioItem[a].$refs.texto.$refs["uploader"+e.id]&&o.append("imagen"+e.id,i.$refs.formularioItem[a].$refs.texto.$refs["uploader"+e.id].files[0]),e.imagen&&1==e.id_tipo&&i.$refs.formularioItem[a].$refs.opcion&&i.$refs.formularioItem[a].$refs.opcion.$refs["uploader"+e.id]&&o.append("imagen"+e.id,i.$refs.formularioItem[a].$refs.opcion.$refs["uploader"+e.id].files[0]),e.imagen&&3==e.id_tipo&&i.$refs.formularioItem[a].$refs.tabla&&i.$refs.formularioItem[a].$refs.tabla.$refs["uploader"+e.id]&&o.append("imagen"+e.id,i.$refs.formularioItem[a].$refs.tabla.$refs["uploader"+e.id].files[0])}))})),c.a.post(e,o,{headers:{"Content-Type":void 0,Authorization:"Bearer "+this.$store.state.token}}).then((function(e){i.$q.notify({color:"green-4",textColor:"white",icon:"fas fa-check-circle",message:"Formulario creado correctamente",position:"bottom",timeout:2e3}),i.$router.push({name:"formularios"})})).catch((function(e){i.loading=!1,i.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:e.response.data.message}),401==e.response.status&&(i.removeCredentials(),i.$router.push({name:"login"}))}))})),l()(a,"modoEdicionNombre",(function(){this.formulario.editandoNombre=!0,this.formulario.temp=this.formulario.nombre})),l()(a,"finalizarEdicionNombre",(function(){this.formulario.nombre=this.formulario.temp,this.formulario.temp=null,this.formulario.editandoNombre=!1})),l()(a,"cancelarEdicionNombre",(function(){this.formulario.temp=null,this.formulario.editandoNombre=!1})),l()(a,"modoEdicionUrl",(function(){this.formulario.editandoUrl=!0,this.formulario.temp=this.formulario.url})),l()(a,"finalizarEdicionUrl",(function(){this.formulario.url=this.formulario.temp,this.formulario.temp=null,this.formulario.editandoUrl=!1})),l()(a,"cancelarEdicionUrl",(function(){this.formulario.temp=null,this.formulario.editandoUrl=!1})),l()(a,"puedeSubir",(function(i,e){var o=!1;return i.campos.forEach((function(i,a,t){i.id==e.id&&(o=a>0)})),o})),l()(a,"puedeBajar",(function(i,e){var o=!1,a=i.campos.length;return i.campos.forEach((function(i,t,r){i.id==e.id&&(o=t<a-1)})),o})),l()(a,"moverArriba",(function(i,e){var o=0;i.campos.forEach((function(i,a,t){i.id==e.id&&(o=a)})),this.arraymove(i.campos,o,o-1),this.$forceUpdate()})),l()(a,"moverAbajo",(function(i,e){var o=0;i.campos.forEach((function(i,a,t){i.id==e.id&&(o=a)})),this.arraymove(i.campos,o,o+1),this.$forceUpdate()})),l()(a,"copiarElemento",(function(i,e){var o=JSON.parse(JSON.stringify(e)),a=this.arrayMax(i.campos);o.id=a+1,o.nombre="Pregunta"+(a+1),i.campos.push(o),this.$forceUpdate()})),l()(a,"habilitarExclusion",(function(i,e){var o=!1;return i.campos.forEach((function(i,a,t){i.id==e.id&&(o=a>0)})),o})),l()(a,"obtenerSecciones",(function(){return this.formulario})),l()(a,"eliminarCampo",(function(i,e){i.campos=i.campos.filter((function(i){return i.id!=e.id})),this.eliminarCampoReglas(e),this.CargarMunicipios(null,!0),this.$forceUpdate()})),l()(a,"hideOptions",(function(){this.showOptions=!1})),l()(a,"agregarSeccion",(function(){var i=this.arrayMax(this.formulario.secciones),e={id:i+1,titulo:"Titulo",descripcion:"Descripcion",campos:[],editandoTitulo:!1,tempTitulo:null,editandoDescripcion:!1,tempDescripcion:null};this.formulario.secciones.push(e)})),l()(a,"agregarCampo",(function(i){if("seccion"==this.selectedOption)return this.agregarSeccion(),this.showOptions=!1,void(this.selectedOption=null);var e=this.arrayMax(i.campos),o=e+1,a=0,t=null;switch(this.selectedOption){case"opcion":a=1;break;case"texto":a=2;break;case"tabla":a=3;break;case"departamento":a=4;break;case"municipio":a=5;break;case"valoracion":a=6;break}t={id:o,id_tipo:a,texto:"Pregunta"+o,imagen:null,imagen_url:null,minimo:"",maximo:"",agregarSubtitulo:!1,subtitulo:null,editando:!1,respuesta_correcta:null,respuestas_correctas:[],temp:null,opciones:[{id:1,nombre:"Opción1",respuesta:null,nota:0},{id:2,nombre:"Opción2",respuesta:null,nota:0}],requerido:!0,FiltrarXDepartamento:!0,nota:0,respuesta:null},"opcion"==this.selectedOption&&(t["tipo_input"]={id:1,nombre:"Seleccion Multiple"}),"texto"==this.selectedOption&&(t["tipo_input"]={id:1,nombre:"Texto Corto"}),"tabla"==this.selectedOption&&(t.opciones=[{filas:[{id:1,nombre:"Fila1"},{id:2,nombre:"Fila2"}]},{columnas:[{id:1,nombre:"Columna1",valor:!1,nota:0},{id:2,nombre:"Columna2",valor:!1,nota:0}]}],t["tipo_input"]={id:1,nombre:"Seleccion Multiple"}),"departamento"==this.selectedOption&&(t["opciones"]=this.departamentos,t["tipo_input"]={id:1,nombre:"departamento"}),"municipio"==this.selectedOption&&(t["opciones"]=this.municipios,t["tipo_input"]={id:1,nombre:"municipio"}),"valoracion"==this.selectedOption&&(t["tipo_input"]={id:1,nombre:"Seleccion Multiple"}),i.campos.push(t),this.showOptions=!1,this.selectedOption=null})),l()(a,"mostrarOpciones",(function(i){this.showOptions=!0,i.focus()})),l()(a,"modoEdicion",(function(i){i.editando=!0,i.temp=i.texto})),l()(a,"modoEdicionTitulo",(function(i){i.editandoTitulo=!0,i.tempTitulo=i.titulo,this.$forceUpdate()})),l()(a,"modoEdicionDesc",(function(i){i.editandoDescripcion=!0,i.tempDescripcion=i.descripcion})),l()(a,"finalizarEdicion",(function(i){i.texto=i.temp,i.temp=null,i.editando=!1})),l()(a,"finalizarEdicionTitulo",(function(i){i.titulo=i.tempTitulo,i.tempTitulo=null,i.editandoTitulo=!1,this.$forceUpdate()})),l()(a,"finalizarEdicionDesc",(function(i){i.descripcion=i.tempDescripcion,i.tempDescripcion=null,i.editandoDescripcion=!1})),l()(a,"cancelarEdicion",(function(i){i.temp=null,i.editando=!1})),l()(a,"cancelarEdicionTitulo",(function(i){i.tempTitulo=null,i.editandoTitulo=!1})),l()(a,"cancelarEdicionDesc",(function(i){i.tempDescripcion=null,i.editandoDescripcion=!1})),l()(a,"removeCredentials",(function(){this.$store.dispatch("removeCredentials")})),l()(a,"displayOptions",(function(){})),l()(a,"saveToLocalStorage",(function(i,e){window.clearTimeout(this.timer),this.timer=window.setTimeout((function(){localStorage.setItem(i,JSON.stringify(e))}),1e3)})),a),computed:{esCampoTexto:function(){var i=this;return!(!this.idcampo||!this.camposEvaluar)&&this.camposEvaluar.filter((function(e){return e.id==i.idcampo&&2==e.id_tipo&&(1==e.tipo_input.id||2==e.tipo_input.id)})).length>0},esCampoNumerico:function(){var i=this;return!(!this.idcampo||!this.camposEvaluar)&&this.camposEvaluar.filter((function(e){return e.id==i.idcampo&&2==e.id_tipo&&3==e.tipo_input.id})).length>0},esCampoFecha:function(){var i=this;return!(!this.idcampo||!this.camposEvaluar)&&this.camposEvaluar.filter((function(e){return e.id==i.idcampo&&2==e.id_tipo&&4==e.tipo_input.id})).length>0},nextId:function(){var i=this.arrayMax(this.reglas)+1;return i},ancho:function(){var i=this.$q.screen.lt;this.$q.screen;var e="768px";return i.md&&(e="768px"),i.sm&&(e=window.screen.width+"px"),e},app_url:function(){return"http://34.72.90.164#/responder/formulario/"},cantidad_campos:function(){var i=this;this.recompute;return this.formulario.secciones.forEach((function(e){i.cantidad+=e.campos.length})),this.cantidad},camposEvaluar:function(){var i=this,e=(this.recompute,this.formulario.secciones.filter((function(e){return e.id==i.idseccion})));return e.length>0?e[0].campos.filter((function(i){return 1==i.id_tipo&&(1==i.tipo_input.id||3==i.tipo_input.id)||2==i.id_tipo})):null},opcionesExclusion:function(){var i=this,e=(this.recompute,this.formulario.secciones.filter((function(e){return e.id==i.idseccion}))),o=null,a=null;return 0==e.length?null:(o=e[0].campos.filter((function(e){return e.id==i.idcampo}))[0],o&&(a=o.opciones),a&&2!=o.id_tipo||(this.idrespuesta=null,a=null),a)},camposExcluir:function(){var i=this,e=(this.recompute,this.formulario.secciones.filter((function(e){return e.id==i.Eidseccion})));return 0==e.length?null:e[0].campos},getTipoCampo:function(){var i=this;this.recompute;if(!this.camposEvaluar)return null;var e=this.camposEvaluar.filter((function(e){return e.id==i.idcampo}));return e.length>0?e[0].id_tipo:null}},watch:{formulario:{handler:function(i){this.inicializado&&this.cantidad_campos>0&&this.saveToLocalStorage("formulario",{formulario:i,nombre:this.nombre,nuevo:this.nuevo})},deep:!0},idseccion:function(){this.idcampo=null,this.idrespuesta=null},idcampo:function(){this.idrespuesta=null}}},f=m,h=(o("7ec7"),o("2877")),g=Object(h["a"])(f,t,r,!1,null,null,null);e["default"]=g.exports},"7ec7":function(i,e,o){"use strict";var a=o("267b"),t=o.n(a);t.a}}]);