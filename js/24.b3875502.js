(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"025d":function(e,t,s){},"481c":function(e,t,s){"use strict";var a=s("025d"),i=s.n(a);i.a},5206:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-page-container",[s("q-page",{staticClass:"q-pa-md pagina"},[s("q-card-actions",{staticClass:"row justify-between q-gutter-sm screenOnly"},[s("q-btn",{attrs:{right:"",icon:"chevron_left"},on:{click:e.regresar}},[e._v("Regresar")]),s("q-btn",{attrs:{color:"primary",icon:"print"},on:{click:e.imprimir}},[e._v("Imprimir")])],1),e.formulario?s("div",{staticClass:"printable",attrs:{id:"respuestas-formulario"}},[s("div",{staticClass:"q-pa-md"},[s("q-card-section",[s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-4"},[s("q-img",{staticStyle:{height:"80px","max-width":"250px"},attrs:{src:"statics/imagenes-plantilla/logo1.png",contain:"",position:"center"}})],1),s("div",{staticClass:"offset-4 col-4"},[s("q-img",{staticStyle:{height:"80px","max-width":"180px"},attrs:{src:"statics/imagenes-plantilla/wfp_logo.jpg",contain:"",position:"center"}})],1)]),s("div",{staticClass:"seccion"},[s("br"),s("br"),e._l(e.formulario.secciones,(function(t,a){return s("div",{key:t.id,class:a>0?"pagebreak":""},[s("div",{staticClass:"row q-col-gutter-md"},[s("label",{staticClass:"titulo text-primary"},[e._v("\n                    "+e._s(t.titulo)+"\n                  ")])]),s("div",{staticClass:"row q-col-gutter-md"},[s("label",{domProps:{innerHTML:e._s(t.descripcion)}})]),s("br"),0===a?s("div",[s("br"),s("br"),s("br")]):e._e(),e._l(e.formulario.secciones[a].campos,(function(t,i){return s("div",{key:i,staticClass:"nobreak"},[s("div",{staticClass:"row q-col-gutter-lg q-pa-md"},[s("div",{staticClass:"col-12"},[s("label",{staticClass:"pregunta q-mb-md q-mt-md flex"},[e._v("\n                        "+e._s(i+1+".")+" "+e._s(t.texto)+"\n                        "+e._s(5561==e.formulario.id_tipo&&Number(t.nota)>0?"("+t.nota+" Puntos)":"")+"\n                        "),s("span",{staticStyle:{color:"#c10015","font-size":"20px",display:"inline"}},[e._v("\n                          "+e._s(t.requerido?"*":"")+"\n                        ")])]),t.imagen?s("q-img",{staticClass:"imagen q-mb-md",attrs:{src:t.imagen,"spinner-color":"white",contain:""}}):e._e(),s("label",{staticClass:"pregunta q-mt-md"},[e._v("\n                        "+e._s(t.subtitulo)+"\n                      ")]),2===t.id_tipo&&1===t.tipo_input.id?s("q-input",{attrs:{disable:"",outlined:"",type:"text","input-style":"text-transform: uppercase;"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),2===t.id_tipo&&2===t.tipo_input.id?s("q-input",{attrs:{disable:"",type:"textarea",outlined:""},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),2===t.id_tipo&&3===t.tipo_input.id?s("q-input",{attrs:{disable:"",outlined:"",type:"number"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",e._n(s))},expression:"campo.respuesta"}}):e._e(),2===t.id_tipo&&4===t.tipo_input.id?s("q-input",{attrs:{disable:"",outlined:"","lazy-rules":"",rules:[function(s){return e.isValidDate(s)&&/\d{1,2}\/\d{1,2}\/\d{4}/.test(s)&&(s||!t.requerido)||"Ingrese un fecha válida"}],error:!t.isValid,"error-message":"Ingrese una fecha válida"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy"+t.id,refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{mask:"DD/MM/YYYY","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese una fecha válida"}]},on:{input:function(){return e.hideDatePopUp("qDateProxy"+t.id)}},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}})],1)],1)]},proxy:!0}],null,!0),model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),1===t.id_tipo&&1===t.tipo_input.id?s("div",{staticClass:"row q-col-gutter-md q-pa-md"},[s("div",{staticClass:"col-12 q-col-gutter-md"},e._l(t.opciones,(function(a){return s("q-radio",{key:a.id,attrs:{disable:"",val:a.nombre,label:a.nombre},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}})})),1),t.isValid||!t.requerido||t.respuesta?e._e():s("label",{staticStyle:{color:"#c10015","font-size":"12px"}},[e._v("\n                          Selecciona una opción\n                        ")])]):e._e(),1===t.id_tipo&&3===t.tipo_input.id?s("q-select",{attrs:{"bg-color":"white",options:t.opciones,"lazy-rules":"","emit-value":"","map-options":"","option-value":"nombre","option-label":"nombre"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),1===t.id_tipo&&2===t.tipo_input.id?s("div",[s("div",{staticClass:"row"},[s("q-list",{staticStyle:{"background-color":"white"},attrs:{dense:"",padding:""}},e._l(t.opciones,(function(t){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{tag:"label"}},[s("q-item-section",{attrs:{side:"",top:""}},[s("q-checkbox",{attrs:{"true-value":t.nombre,"false-value":!1},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"option.respuesta"}})],1),s("q-item-section",[s("q-item-label",[e._v("\n                                  "+e._s(t.nombre)+"\n                                ")])],1)],1)})),1)],1),t.isValid||!t.requerido||t.respuesta?e._e():s("label",{staticStyle:{color:"#c10015","font-size":"12px"}},[e._v("\n                          Selecciona una opción\n                        ")])]):e._e(),3===t.id_tipo&&t.arregloTable&&t.arregloTable.length>0?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("table",{staticClass:"full-width bg-white  q-mt-md"},[s("thead",{staticClass:"full-width text-center"},[s("td"),e._l(t.arregloTable[0].columns,(function(t){return s("td",{key:t.id},[e._v("\n                                "+e._s(t.valor)+"\n                              ")])}))],2),e._l(t.arregloTable,(function(a){return s("tr",{key:a.id},[s("span",{staticClass:"flex q-mt-md"},[e._v("\n                                "+e._s(a.valor)+"\n                              ")]),e._l(a.columns,(function(i,o){return s("td",{key:i.id,staticClass:"text-center"},[s("q-radio",{staticClass:"text-right",attrs:{disable:"",val:!0},on:{input:function(s){return e.setFilaCheckbox(t,a,a.columns[o])}},model:{value:a.columns[o].checked,callback:function(t){e.$set(a.columns[o],"checked",t)},expression:"fila.columns[index2].checked"}})],1)}))],2)}))],2),t.isValid||!t.requerido||t.respuesta?e._e():s("label",{staticStyle:{color:"#c10015","font-size":"12px"}},[e._v("\n                            Selecciona una opción para todas las filas\n                          ")])])]):e._e(),4===t.id_tipo?s("q-select",{attrs:{"bg-color":"white",options:e.departamentos,"lazy-rules":"","emit-value":"","map-options":"","option-value":"nombre","option-label":"nombre"},on:{input:function(s){return e.CargarMunicipios(t,t.respuesta,e.formulario.secciones[a].campos[i+1],!0)}},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),5===t.id_tipo?s("q-select",{attrs:{"bg-color":"white",options:e.municipios,"lazy-rules":"","emit-value":"","map-options":"","option-value":"nombre","option-label":"nombre"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e(),6===t.id_tipo?s("q-rating",{attrs:{readonly:"",size:"2.5em",max:"10"},model:{value:t.respuesta,callback:function(s){e.$set(t,"respuesta",s)},expression:"campo.respuesta"}}):e._e()],1)])])}))],2)}))],2)])],1)]):e._e(),s("q-card-actions",{staticClass:"row justify-between q-gutter-sm screenOnly"},[s("q-btn",{attrs:{right:"",icon:"chevron_left"},on:{click:e.regresar}},[e._v("Regresar")])],1)],1)],1)],1)},i=[],o=s("bc3a"),r=s.n(o),n={data:function(){return{formulario:null}},mounted:function(){this.CargarDatosFormulario()},methods:{regresar:function(){this.$router.go(-1)},imprimir:function(){window.print()},CargarDatosFormulario:function(){var e=this;this.loading=!0;var t="http://35.203.165.142/api"+"/imprimir-formulario/".concat(this.$route.params.id_formulario),s={Authorization:"Bearer "+this.$store.state.token};r()({method:"get",url:t,headers:s}).then((function(t){var s=t.data.formulario,a=t.data.campos;s.secciones=t.data.secciones,a.forEach((function(e,t,s){if(s[t].tipo_input=JSON.parse(e.tipo_input),s[t].opciones=JSON.parse(e.opciones),s[t].opciones.forEach((function(e,t,s){s[t].respuesta=!1})),3===e.id_tipo){s[t].arregloTable=JSON.parse(e.arregloTable);JSON.parse(e.respuesta);e.arregloTable}e.imagen_url=e.imagen})),s.secciones.forEach((function(e,t,s){s[t].campos=a.filter((function(t){return t.id_seccion===e.id}))})),e.formulario=s,setTimeout((function(){e.imprimir()}),1e3)})).catch((function(t){e.loading=!1,e.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:t.response.data}),401===t.response.status&&(e.removeCredentials(),e.$router.push({name:"login"}))}))}},computed:{ancho:function(){var e=this.$q.screen.lt,t=500;return e.xs||e.sm?(t=0,window.screen.width-t+"px"):e.md?(t=150,window.screen.width-t+"px"):e.lg?(t=250,window.screen.width-t+"px"):e.xl?(t=500,window.screen.width-t+"px"):window.screen.width-t+"px"},app_url:function(){return"http://34.72.90.164/"}}},l=n,c=(s("481c"),s("2877")),u=Object(c["a"])(l,a,i,!1,null,null,null);t["default"]=u.exports}}]);