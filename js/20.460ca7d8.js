(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"05d7":function(t,e,a){"use strict";var s=a("e781"),o=a.n(s);o.a},b50c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticStyle:{"background-image":"url('statics/imagenes-login/fondo.png')","background-size":"cover"}},[a("q-page-container",[a("q-page",{},[a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-12 col-md-3 offset-md-1 mobile-centered"},[a("q-img",{staticStyle:{height:"80px","max-width":"200px"},attrs:{src:"statics/imagenes-plantilla/logo1.png",contain:"",position:"center"}})],1),a("div",{staticClass:"col-12 col-md-3 offset-md-1 mobile-centered"}),a("div",{staticClass:"col-12 col-md-3 offset-md-1 mobile-centered"},[a("q-btn",{staticStyle:{float:"right",color:"white"},attrs:{flat:"",label:"Iniciar Sesión",to:"/login"}})],1)])]),a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-7"},[a("Highmaps",{ref:"Highcharts",attrs:{"constructor-type":"mapChart",options:t.chartOptions}})],1),a("div",{staticClass:"col-12 col-md-4 "},[a("div",{staticClass:"col-12 col-md-3"},[a("div",{staticClass:"col-12"},[t.pieChartOptions?a("Highcharts",{ref:"pieChart",attrs:{options:t.pieChartOptions}}):t._e()],1)]),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-12 text-center"},[a("label",{staticClass:"text-white text-h6"},[t._v("Centros")])])]),a("q-list",{attrs:{dense:"",bordered:"",separator:""}},[t.centros.length>0?a("div",t._l(t.centros,(function(e,s){return a("div",{key:e.id},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],class:e.seleccionado?"seleccionado":s%2?"even":"odd",attrs:{dense:"",clickable:""},on:{click:function(a){return t.CargarCursos(e.id)}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.nombre))])],1)],1),a("q-separator")],1)})),0):a("div",{staticClass:"flex-center"},[a("label",[t._v("\n                      No hay centros en el departamento seleccionado\n                    ")])])])],1),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-12 text-center"},[a("label",{staticClass:"text-white text-h6"},[t._v("Cursos")])])]),a("q-list",{attrs:{dense:"",bordered:"",separator:""}},[t.cursos.length>0?a("div",t._l(t.cursos,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,class:"even",attrs:{dense:"",clickable:""}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.nombre))])],1)],1)})),1):a("div",{staticClass:"flex-center"},[a("label",{staticClass:"text-white"},[t._v("\n                      No hay cursos centro seleccionado\n                    ")])])])],1)])])])]),a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"container-logo-numu"},[a("img",{staticClass:"logo-numu",attrs:{src:t.$q.screen.lt.sm?"statics/imagenes-login/logo-numu.png":"statics/imagenes-plantilla/numu.png"}})])])])],1)],1)},o=[],i=(a("7f7f"),a("a34a")),n=a.n(i),r=(a("96cf"),a("c973")),c=a.n(r),l=a("a026"),d=a("bc3a"),u=a.n(d),p=a("4452"),h=a.n(p),m=a("ea7f"),g=a.n(m),f=a("b6d1"),v=a.n(f),C=a("58a2"),b=a("a845");v()(g.a),l["default"].use(h.a,{Highcharts:g.a}),g.a.maps["countries/ni/ni-all"]=b;var w={name:"panelIndex",components:{Highmaps:Object(C["a"])("Highmaps",g.a),Highcharts:Object(C["a"])("Highcharts",g.a)},data:function(){return{centros:[],cursos:[],data:null,loading:!1,chartOptions:{chart:{height:"100%"},title:{text:"Centros en Nicaragua"},subtitle:{text:""},colorAxis:{min:0,max:5,minColor:"#E6E7E8",maxColor:"#61cdd6"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:"bottom"}},plotOptions:{map:{allowPointSelect:!0,states:{hover:{color:"#ffe576"},select:{color:"#0f75bc",enabled:!0}},cursor:"pointer"}},series:[]},pieChartOptions:{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Distribución de centros por departamento"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},legend:{itemStyle:{color:"white"}},series:[]}}},mounted:function(){var t=this;return c()(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$q.platform.is.mobile){e.next=3;break}return t.$router.push({name:"login"}),e.abrupt("return");case 3:return t.DistribucionXCentros(),e.next=6,t.DistribucionCentros();case 6:return e.next=8,t.CentrosXDepartamento("ni-mn");case 8:case"end":return e.stop()}}),e)})))()},methods:{CargarCursos:function(t){var e=this;this.centros.forEach((function(e,a,s){e.id===t?s[a].seleccionado=!0:s[a].seleccionado=!1})),this.loadingCursos=!0;var a="http://35.203.165.142/api/catalogos/cursos/public",s={Authorization:"Bearer "+this.$store.state.token},o={id_centro:t};u()({method:"get",url:a,params:o,headers:s}).then((function(t){e.cursos=t.data.cursos,e.loadingCursos=!1})).catch((function(t){e.loadingCursos=!1,401===t.response.status&&(e.removeCredentials(),e.$router.push({name:"login"}))}))},DistribucionXCentros:function(){var t=this;this.loading=!0;var e="http://35.203.165.142/api/reportes/DistribucionCentros",a={Authorization:"Bearer "+this.$store.state.token};u()({method:"get",url:e,headers:a}).then((function(e){t.loading=!1,t.DistribucionCentros=e.data.reporte,t.$refs.pieChart.chart.addSeries({name:"Centros",colorByPoint:!0,data:t.DistribucionCentros})})).catch((function(e){t.loading=!1,401===e.response.status&&(t.removeCredentials(),t.$router.push({name:"login"}))}))},CentrosXDepartamento:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=!0;var s="http://35.203.165.142/api/reportes/CentrosXDepartamento",o={Authorization:"Bearer "+this.$store.state.token},i={codigo:t};u()({method:"get",url:s,params:i,headers:o}).then((function(t){e.loading=!1,e.centros=t.data.centros,e.cursos=[],a&&e.CargarCursos(e.centros[0].id)})).catch((function(t){e.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:t.response.data.message})}))},DistribucionCentros:function(){var t=this;this.loading=!0;var e="http://35.203.165.142/api/reportes/DistribucionCentrosXDepartamento",a={Authorization:"Bearer "+this.$store.state.token};u()({method:"get",url:e,headers:a}).then((function(e){t.loading=!1,t.data=e.data.reporte;var a=t.data;t.$refs.Highcharts.chart&&t.$refs.Highcharts.chart.addSeries({nullColor:"rgba(200, 200, 200, 0.3)",data:g.a.geojson(g.a.maps["countries/ni/ni-all"]).map((function(t,e){return t.drilldown=!0,t.value=a.filter((function(e){return e["codigo"]===t.properties["hc-key"]}))[0]["cantidad"],t})),states:{hover:{color:"#ffe576"},select:{color:"#0f75bc",enabled:!0}},name:"",dataLabels:{enabled:!0,formatter:function(){return 0!==this.point.value?this.point.name+"("+this.point.value+")":this.point.name}},tooltip:{pointFormat:"{point.name}: {point.value} Centros"},point:{events:{click:function(e){var a=e.point;a.properties["hc-key"],t.CentrosXDepartamento(a.properties["hc-key"],!0)}}}})})).catch((function(e){t.loading=!1,401===e.response.status&&(t.removeCredentials(),t.$router.push({name:"login"}))}))}}},x=w,q=(a("05d7"),a("2877")),k=Object(q["a"])(x,s,o,!1,null,null,null);e["default"]=k.exports},e781:function(t,e,a){}}]);