(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"84e3":function(t,e,a){"use strict";var o=a("e43d"),s=a.n(o);s.a},"8a69":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"bg-white"},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"row flex-center"},[a("div",{class:t.isMobile?"col-12 col-md-12 ":"col-12 col-md-7"},[a("Highmaps",{ref:"Highcharts",attrs:{"constructor-type":"mapChart",options:t.chartOptions}})],1),a("div",{class:t.isMobile?"col-12 col-md-12 ":"col-12 col-md-4"},[a("div",{staticClass:"col-12 col-md-3"},[a("div",{staticClass:"col-12"},[t.pieChartOptions?a("Highcharts",{ref:"pieChart",attrs:{options:t.pieChartOptions}}):t._e()],1)]),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-12 text-center"},[a("label",{staticClass:"text-primary text-h6"},[t._v("Centros")])])]),a("q-list",{attrs:{dense:"",bordered:"",separator:""}},[t.centros.length>0?a("div",t._l(t.centros,(function(e,o){return a("div",{key:e.id},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],class:e.seleccionado?"seleccionado":o%2?"even":"odd",attrs:{dense:"",clickable:""},on:{click:function(a){return t.CargarCursos(e.id)}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.nombre))])],1)],1),a("q-separator")],1)})),0):a("div",{staticClass:"flex-center"},[a("label",[t._v("No hay centros en el departamento seleccionado")])])])],1),a("div",{staticClass:"col-12 col-md-12"},[a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-12 text-center"},[a("label",{staticClass:"text-primary text-h6"},[t._v("Cursos")])])]),a("q-list",{attrs:{dense:"",bordered:"",separator:""}},[t.cursos.length>0?a("div",t._l(t.cursos,(function(e,o){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,class:"even",attrs:{dense:"",clickable:""}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.nombre))])],1)],1)})),1):a("div",{staticClass:"flex-center"},[a("label",{staticClass:"text-white"},[t._v("\n                  No hay cursos centro seleccionado\n                ")])])])],1)])])])])])},s=[],r=(a("7f7f"),a("a34a")),i=a.n(r),n=(a("96cf"),a("c973")),c=a.n(n),l=a("a026"),d=a("bc3a"),p=a.n(d),u=a("4452"),h=a.n(u),m=a("ea7f"),f=a.n(m),v=a("b6d1"),C=a.n(v),g=a("58a2"),b=a("a845");C()(f.a),l["default"].use(h.a,{Highcharts:f.a}),f.a.maps["countries/ni/ni-all"]=b;var x={name:"panelIndex",components:{Highmaps:Object(g["a"])("Highmaps",f.a),Highcharts:Object(g["a"])("Highcharts",f.a)},data:function(){return{centros:[],cursos:[],data:null,loading:!1,chartOptions:{chart:{height:"100%"},title:{text:"Centros en Nicaragua"},subtitle:{text:""},colorAxis:{min:0,max:10,minColor:"#E6E7E8",maxColor:"#61cdd6"},mapNavigation:{enabled:!1,buttonOptions:{verticalAlign:"bottom"}},plotOptions:{map:{allowPointSelect:!0,states:{hover:{color:"#ffe576"},select:{color:"#0f75bc",enabled:!0}},cursor:"pointer"}},series:[]},pieChartOptions:{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Distribuci√≥n de centros por departamento"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[]}}},mounted:function(){var t=this;return c()(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$q.platform.is,t.DistribucionXCentros(),e.next=4,t.DistribucionCentros();case 4:return e.next=6,t.CentrosXDepartamento("ni-mn");case 6:case"end":return e.stop()}}),e)})))()},methods:{CargarCursos:function(t){var e=this;this.centros.forEach((function(e,a,o){e.id===t?o[a].seleccionado=!0:o[a].seleccionado=!1})),this.loadingCursos=!0;var a="http://35.203.165.142/api/catalogos/cursos",o={Authorization:"Bearer "+this.$store.state.token},s={id_centro:t};p()({method:"get",url:a,params:s,headers:o}).then((function(t){t.data.cursos,e.cursos=t.data.cursos,e.loadingCursos=!1})).catch((function(t){e.loadingCursos=!1,401===t.response.status&&(e.removeCredentials(),e.$router.push({name:"login"}))}))},DistribucionXCentros:function(){var t=this;this.loading=!0;var e="http://35.203.165.142/api/reportes/DistribucionCentros",a={Authorization:"Bearer "+this.$store.state.token};p()({method:"get",url:e,headers:a}).then((function(e){t.loading=!1,t.DistribucionCentros=e.data.reporte,t.$refs.pieChart.chart,t.$refs.pieChart.chart.addSeries({name:"Centros",colorByPoint:!0,data:t.DistribucionCentros})})).catch((function(e){t.loading=!1,401===e.response.status&&(t.removeCredentials(),t.$router.push({name:"login"}))}))},CentrosXDepartamento:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=!0;var o="http://35.203.165.142/api/reportes/CentrosXDepartamento",s={Authorization:"Bearer "+this.$store.state.token},r={codigo:t};p()({method:"get",url:o,params:r,headers:s}).then((function(t){e.loading=!1,e.centros=t.data.centros,e.cursos=[],a&&e.CargarCursos(e.centros[0].id)})).catch((function(t){e.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:t.response.data.message})}))},DistribucionCentros:function(){var t=this;this.loading=!0;var e="http://35.203.165.142/api/reportes/DistribucionCentrosXDepartamento",a={Authorization:"Bearer "+this.$store.state.token};p()({method:"get",url:e,headers:a}).then((function(e){t.loading=!1,t.data=e.data.reporte;var a=t.data;t.$refs.Highcharts.chart&&t.$refs.Highcharts.chart.addSeries({nullColor:"rgba(200, 200, 200, 0.3)",data:f.a.geojson(f.a.maps["countries/ni/ni-all"]).map((function(t,e){return t.drilldown=!0,t.value=a.filter((function(e){return e["codigo"]===t.properties["hc-key"]}))[0]["cantidad"],t})),states:{hover:{color:"#ffe576"},select:{color:"#0f75bc",enabled:!0}},name:"",dataLabels:{enabled:!0,style:{fontWeight:"bold"},formatter:function(){return 0!==this.point.value?this.point.name+"("+this.point.value+")":this.point.name}},tooltip:{pointFormat:"{point.name}: {point.value} Centros"},point:{events:{click:function(e){var a=e.point;a.properties["hc-key"],t.CentrosXDepartamento(a.properties["hc-key"],!0)}}}})})).catch((function(e){t.loading=!1,401===e.response.status&&(t.removeCredentials(),t.$router.push({name:"login"}))}))}},computed:{isMobile:function(){return this.$q.platform.is.mobile}}},w=x,k=(a("84e3"),a("2877")),y=Object(k["a"])(w,o,s,!1,null,null,null);e["default"]=y.exports},e43d:function(t,e,a){}}]);